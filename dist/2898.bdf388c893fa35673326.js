"use strict";(self.webpackChunktelegram_t=self.webpackChunktelegram_t||[]).push([[2898],{68292:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(84051),r=n(13439),i=n(29807),s=n(87357),o=n(37836),c=n(30857),l=n(39351),d=n(73767);let m=0;const u=(0,o.Fe)((()=>{m=0})),A=(0,a.ph)((({text:e,className:t,isDisabled:n,ref:o})=>{const{isRtl:A}=(0,l.A)(),h=(0,d.A)(e),p=(0,c.A)(),y=!(!(!n&&(0,i.PKK)((0,r.mS)())&&void 0!==h&&h!==e)||m>=10||(0===m&&u(),m++,0)),f=(0,a.Kr)((()=>y?function(e,t){const n=[],r=e.length,i=t?.length??0;for(let s=0;s<=r;s++){const o=r-s,c=i-s;t&&c>=0&&e[o]!==t[c]?n.unshift(a.Ay.createElement("div",{className:"IYTzbS8o"},a.Ay.createElement("div",{className:"Jw1oQFdk"},e[o]??""),a.Ay.createElement("div",{className:"TZfEz3sc"},t[c]),a.Ay.createElement("div",{className:"Y9ied8_t"},e[o]??""))):n.unshift(a.Ay.createElement("span",null,e[o]??""))}return n}(e,h):e),[y,h,e]);return(0,a.vJ)((()=>{if(!y)return;const e=window.setTimeout((()=>{p()}),200);return()=>{window.clearTimeout(e)}}),[y,e]),a.Ay.createElement("span",{ref:o,className:(0,s.A)(t,!n&&"tgKbsVmz"),dir:A?"rtl":void 0},f)}))},79577:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(84051),r=n(23174),i=n(90709),s=n(62587),o=n(64489);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},c.apply(this,arguments)}const l=(0,a.ph)((function(e){const{sticker:t,noLoad:n,forcePreview:l,...d}=e,m=t?.thumbnail?.dataUri,u=t&&(0,i.Mwy)(t,"full"),A=(0,s.A)(t?(0,i.Mwy)(t,"preview"):void 0,n&&!l,r.qZ.BlobUrl),h=(0,s.A)(u,n);return a.Ay.createElement(o.A,c({tgsUrl:h,previewUrl:A,thumbDataUri:m},d))}))},64489:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(84051),r=n(87357),i=n(95807),s=n(37661),o=n(17712),c=n(83057),l=n(4438);const d="lM2usrZU";function m(){return m=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},m.apply(this,arguments)}const u=new Set,A=(0,a.ph)((function(e){const{previewUrl:t,thumbDataUri:n,className:A,...h}=e,[p,,y]=(0,s.A)(Boolean(n)),f=(0,c.A)(p),[g,v,C]=(0,s.A)(u.has(t)),E=(0,c.A)(g),[I,S]=(0,s.A)(!1),b=(0,o.A)((()=>{v(),u.add(t)})),N=(0,o.A)((()=>{y(),C(),setTimeout(S,300)})),{size:w}=e;return a.Ay.createElement("div",{className:(0,r.A)(A,"xCi2f0YH"),style:(0,i.A)(void 0!==w&&`width: ${w}px; height: ${w}px;`)},n&&!I&&a.Ay.createElement("img",{src:n,className:(0,r.A)(d,f),draggable:!1}),t&&!I&&a.Ay.createElement("img",{src:t,className:(0,r.A)(d,E),draggable:!1,onLoad:b}),a.Ay.createElement(l.A,m({},h,{onLoad:N})))}))},26875:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(84051),r=n(87357),i=n(59030),s=n(21849);const o=(0,a.ph)((({peers:e,size:t,className:n,limit:o=3,badgeText:c})=>{const l=(0,i.A)(),d="number"==typeof t?t:s.R[t],m=(0,a.Kr)((()=>c||(!e?.length||e.length<=o?void 0:"+"+(e.length-o))),[c,e,o]);return a.Ay.createElement("div",{className:(0,r.A)(n,"kXs18Nmi"),style:`--_size: ${d}px;`,dir:l.isRtl?"rtl":"ltr"},e?.slice(0,o).map((e=>a.Ay.createElement(s.A,{size:t,peer:e,className:"XND8fhC1"}))),m&&a.Ay.createElement("div",{className:"SHyAyGFO"},m))}))},54314:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(84051),r=n(13439),i=n(90709),s=n(29807),o=n(4961),c=n(59030),l=n(64493),d=n(8410),m=n(21849);const u=(0,a.ph)((0,r.EK)(((e,{chat:t,isSavedDialog:n})=>{const a=(0,i.L8L)(t.id),r=(0,s.nZ4)(e,t.id),o=a&&(0,s.mBe)(e,(0,i.e7w)(t)),c=o&&(0,i.tvf)(o)&&!t.isSupport,l=a&&!r&&!c&&!n,d=a?(0,i.u0l)((0,s.mBe)(e,(0,i.e7w)(t))):void 0;return{isPrivateChat:a,isChatWithSelf:r,isBot:c,isChannel:(0,i.WXB)(t),isBasicGroup:(0,i.yn$)(t),isSuperGroup:(0,i.VsK)(t),currentUserId:e.currentUserId,canDeleteForAll:l,contactName:d}}))((({isOpen:e,chat:t,isSavedDialog:n,isChannel:s,isPrivateChat:u,isChatWithSelf:A,isBot:h,isBasicGroup:p,isSuperGroup:y,currentUserId:f,canDeleteForAll:g,contactName:v,onClose:C,onCloseAnimationEnd:E})=>{const{leaveChannel:I,deleteHistory:S,deleteSavedHistory:b,deleteChannel:N,deleteChatUser:w,blockUser:M}=(0,r.ko)(),T=(0,c.A)(),x=(0,i.JsG)(T,t),k=(0,a.hb)((()=>{S({chatId:t.id,shouldDeleteForAll:!0}),C()}),[t.id,C]),F=(0,a.hb)((()=>{S({chatId:t.id,shouldDeleteForAll:!0}),M({userId:t.id}),C()}),[t.id,C]),P=(0,a.hb)((()=>{n?b({chatId:t.id}):u?S({chatId:t.id,shouldDeleteForAll:!1}):p?(w({chatId:t.id,userId:f}),S({chatId:t.id,shouldDeleteForAll:!1})):!s&&!y||t.isCreator?(s||y)&&t.isCreator&&N({chatId:t.id}):I({chatId:t.id}),C()}),[u,p,s,y,f,t.isCreator,t.id,n,C]),D=(0,a.hb)((()=>{s||y?(I({chatId:t.id}),C()):P()}),[t.id,P,s,y,I,C]);return a.Ay.createElement(d.A,{isOpen:e,className:"DeleteChatModal",header:a.Ay.createElement("div",{className:"modal-header",dir:T.isRtl?"rtl":void 0},a.Ay.createElement(m.A,{size:"tiny",peer:t,isSavedMessages:A}),a.Ay.createElement("h3",{className:"modal-title"},T(n?A?"ClearHistoryMyNotesTitle":"ClearHistoryTitleSingle2":s&&!t.isCreator?"LeaveChannel":s&&t.isCreator?"ChannelDelete":p||y?"Group.LeaveGroup":"DeleteChatUser"))),onClose:C,onCloseAnimationEnd:E},n?a.Ay.createElement("p",null,(0,o.A)(A?T("ClearHistoryMyNotesMessage"):T("ClearHistoryMessageSingle",x),["simple_markdown","emoji"])):s&&t.isCreator?a.Ay.createElement("p",null,(0,o.A)(T("ChatList.DeleteAndLeaveGroupConfirmation",x),["simple_markdown","emoji"])):s&&!t.isCreator||p||y?a.Ay.createElement("p",null,(0,o.A)(T("ChannelLeaveAlertWithName",x),["simple_markdown","emoji"])):a.Ay.createElement("p",null,(0,o.A)(T("ChatList.DeleteChatConfirmation",v),["simple_markdown","emoji"])),a.Ay.createElement("div",{className:"dialog-buttons-column"},h&&!n&&a.Ay.createElement(l.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:F},T("DeleteAndStop")),g&&a.Ay.createElement(l.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:k},v?(0,o.A)(T("ChatList.DeleteForEveryone",v)):T("DeleteForAll")),!u&&t.isCreator&&!n&&a.Ay.createElement(l.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:P},T("DeleteForAll")),a.Ay.createElement(l.A,{color:"danger",className:"confirm-dialog-button",isText:!0,onClick:u||n?P:D},T(n?"Delete":s&&!t.isCreator?"LeaveChannel":s&&t.isCreator?"Chat.Input.Delete":p||y?"Group.LeaveGroup":g?"ChatList.DeleteForCurrentUser":"Delete")),a.Ay.createElement(l.A,{className:"confirm-dialog-button",isText:!0,onClick:C},T("Cancel"))))})))},80999:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(84051),r=n(87357),i=n(4961),s=n(59030);const o=({content:e,className:t})=>{const n=(0,s.A)();return a.Ay.createElement("span",{className:(0,r.A)("DotAnimation",t),dir:n.isRtl?"rtl":"auto"},(0,i.A)(e),a.Ay.createElement("span",{className:"ellipsis"}))}},81642:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(84051),r=n(87357),i=n(17663),s=n(59030),o=n(45);const c=(0,a.ph)((({className:e,message:t,outgoingStatus:n,draftDate:c})=>{const l=(0,s.A)(),d=c&&c>t.date;return a.Ay.createElement("div",{className:(0,r.A)("LastMessageMeta",e)},n&&!d&&a.Ay.createElement(o.A,{status:n}),a.Ay.createElement("span",{className:"time"},(0,i.be)(l,1e3*(d?c:t.date))))}))},27860:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(84051),r=n(66644),i=n(87357),s=n(45470),o=n(17712),c=n(50680);const l=(0,a.ph)((({isVisible:e,withAnimation:t,thumbDataUri:n,className:l,width:d,height:m})=>{const u=(0,a.li)(null),{shouldRender:A,transitionClassNames:h}=(0,c.A)(e,void 0,!0,!t&&void 0,void 0,500),p=(0,s.A)(n,!A,void 0,25,d,m),y=(0,o.A)((e=>{if(!u.current)return;const t=u.current,n=e.currentTarget.getBoundingClientRect(),a=e.clientX-n.left,i=e.clientY-n.top,s=a-n.width/2,o=i-n.height/2;(0,r.RK)((()=>{t.setAttribute("style",`--click-shift-x: ${s}px; --click-shift-y: ${o}px`)}))}));if(A)return a.Ay.createElement("div",{className:(0,i.A)("qF2WgYVg",h,l,t&&"pNM3cgkY"),ref:u,onClick:t?y:void 0},a.Ay.createElement("canvas",{ref:p,className:"eULqS2yR",width:d,height:m}),a.Ay.createElement("div",{className:"XBor45hE"}))}))},45:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(84051),r=n(41036),i=n(18276),s=function(e){return e[e.failed=0]="failed",e[e.pending=1]="pending",e[e.succeeded=2]="succeeded",e[e.read=3]="read",e}(s||{});const o=(0,a.ph)((({status:e})=>a.Ay.createElement("div",{className:"MessageOutgoingStatus"},a.Ay.createElement(r.Ay,{name:"reveal",activeKey:s[e]},"failed"===e?a.Ay.createElement("div",{className:"MessageOutgoingStatus--failed"},a.Ay.createElement(i.A,{name:"message-failed"})):a.Ay.createElement(i.A,{name:`message-${e}`})))))},15535:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(84051),r=n(31481),i=n(66644),s=n(87357),o=n(83868),c=n(82393),l=n(14737),d=n(43874),m=n(59030),u=n(64493),A=n(18276);const h=(0,a.ph)((({isLoading:e=!1,isPasswordVisible:t,error:n,hint:h,placeholder:p="Password",submitLabel:y="Next",description:f,shouldShowSubmit:g,shouldResetValue:v,shouldDisablePasswordManager:C=!1,noRipple:E=!1,clearError:I,onChangePasswordVisibility:S,onInputChange:b,onSubmit:N})=>{const w=(0,a.li)(null),M=(0,m.A)(),{isMobile:T}=(0,d.Ay)(),[x,k]=(0,a.J0)(""),[F,P]=(0,a.J0)(!1),D=T?550:400;return(0,a.vJ)((()=>{v&&k("")}),[v]),(0,l.A)((()=>{c.TF||w.current.focus()}),D),(0,a.vJ)((()=>{n&&(0,i.RK)((()=>{w.current.focus(),w.current.select()}))}),[n]),a.Ay.createElement("form",{action:"",onSubmit:N?function(t){t.preventDefault(),e||F&&N(x)}:o.A,autoComplete:"off"},a.Ay.createElement("div",{className:(0,s.A)("input-group password-input",x&&"touched",n&&"error"),dir:M.isRtl?"rtl":void 0},C&&a.Ay.createElement("input",{type:"password",id:"prevent_autofill",autoComplete:"off",className:"visually-hidden",tabIndex:-2}),a.Ay.createElement("input",{ref:w,className:"form-control",type:t?"text":"password",id:"sign-in-password",value:x||"",autoComplete:C?"one-time-code":"current-password",onChange:function(e){n&&I();const{target:t}=e;k(t.value),P(t.value.length>=r.AGC),b&&b(t.value)},maxLength:256,dir:"auto"}),a.Ay.createElement("label",null,n||h||p),a.Ay.createElement("div",{className:"div-button toggle-password",onClick:function(){S(!t)},role:"button",tabIndex:0,title:"Toggle password visibility","aria-label":"Toggle password visibility"},a.Ay.createElement(A.A,{name:t?"eye":"eye-closed"}))),f&&a.Ay.createElement("p",{className:"description"},f),N&&(F||g)&&a.Ay.createElement(u.A,{size:"smaller",type:"submit",ripple:!E,isLoading:e,disabled:!F},y))}))},10187:(e,t,n)=>{n.d(t,{A:()=>h});var a=n(84051),r=n(13439),i=n(90709),s=n(70636),o=n(29807),c=n(87357),l=n(35049),d=n(59030),m=n(21849),u=n(34431),A=n(18276);const h=(0,a.ph)((0,r.EK)(((e,{peerId:t,forceShowSelf:n})=>{if(!t)return{};const a=(0,o.PVB)(e,t),r=(0,o.mBe)(e,t);return{peer:a,isSavedMessages:!n&&r&&r.isSelf}}))((({icon:e,title:t,isMinimized:n,canClose:r,isCloseNonDestructive:o,clickArg:h,peer:p,mockPeer:y,customPeer:f,className:g,isSavedMessages:v,withPeerColors:C,withEmojiStatus:E,onClick:I,itemClassName:S})=>{const b=(0,d.A)(),N=y||p,w=f||N,M=N&&(0,s.vj)(N)?N:void 0;let T,x,k;e&&t?(T=a.Ay.createElement("div",{className:"NtoGLT22"},a.Ay.createElement(A.A,{name:e,style:"f91Ad80i"})),x=t):w&&(T=a.Ay.createElement(m.A,{className:"La8BQ9yr",peer:w,size:"small",isSavedMessages:v}),k=(0,i.F9N)(b,w)||t,x=t||a.Ay.createElement(u.A,{peer:w,isSavedMessages:v,withEmojiStatus:E}));const F=(0,c.A)("_Lq6_4e5",(M?.isForum||f?.isAvatarSquare)&&"JIHfTUVn",n&&"UhOZvxvs",r&&"uvvgSFUJ",o&&"fAk5yEeV",!I&&"P8r3OoaX",C&&(0,l.y)(f||p),g);return a.Ay.createElement("div",{className:F,onClick:()=>I?.(h),title:n?k:void 0,dir:b.isRtl?"rtl":void 0},T,!n&&a.Ay.createElement("div",{className:(0,c.A)("XPVuH29G",S),dir:"auto"},x),r&&a.Ay.createElement("div",{className:"xVPG2UTy"},a.Ay.createElement(A.A,{name:"close"})))})))},20333:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(84051),r=n(87357),i=n(95807),s=n(59030),o=n(93545),c=n(18276);const l="_b5HgBXr",d="P6mch4bB",m=(0,a.ph)((({leftText:e,rightText:t,floatingBadgeText:n,floatingBadgeIcon:m,progress:u,isPrimary:A,className:h})=>{const p=(0,s.A)(),y=(0,a.li)(null),f=(0,a.li)(null),[g,v]=(0,a.J0)(0),[C,E]=(0,a.J0)(0),I=()=>{if(y.current&&f.current&&void 0!==u){const e=y.current.offsetWidth,t=f.current.offsetWidth,n=e/2,a=t-e/2,r=u*t,i=Math.max(n,Math.min(r,a));let s;v(i/t),s=r<n?u*t/(2*n):r>a?.5+(u-a/t)/(1-a/t)*.4:.5,E(s)}};(0,a.vJ)(I,[u]),(0,o.A)(f,I);const S=Boolean(m||n),b=Boolean(u)&&u>.99;return a.Ay.createElement("div",{ref:f,className:(0,r.A)("nY2ggBsF",S&&"RYtVQAjM",A&&"Zi0w7QJ3",h),style:(0,i.A)(void 0!==u&&`--progress: ${u}`,void 0!==C&&`--tail-position: ${C}`,`--shift-x: ${g}`)},S&&a.Ay.createElement("div",{className:"dhigNjAq"},a.Ay.createElement("div",{className:"cOpfCGPh"},a.Ay.createElement("div",{className:"uNwBLNOy",ref:y},m&&a.Ay.createElement(c.A,{name:m,className:"MJ7MTmxi"}),n&&a.Ay.createElement("div",{className:"MwzZt3Qo",dir:p.isRtl?"rtl":void 0},n)),a.Ay.createElement("div",{className:"qRwO7SZm"},a.Ay.createElement("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none"},a.Ay.createElement("path",{d:"m 28,4 v 9 c 0.0089,7.283278 -3.302215,5.319646 -6.750951,8.589815 l -5.8284,5.82843 c -0.781,0.78105 -2.0474,0.78104 -2.8284,0 L 6.7638083,21.589815 C 2.8288652,17.959047 0.04527024,20.332086 0,13 V 4 C 0,4 0.00150581,0.97697493 3,1 5.3786658,1.018266 22.594519,0.9142007 25,1 c 2.992326,0.1067311 3,3 3,3 z",fill:"#7E85FF"}))))),a.Ay.createElement("div",{className:l},a.Ay.createElement("span",null,e)),a.Ay.createElement("div",{className:d},a.Ay.createElement("span",null,t)),a.Ay.createElement("div",{className:(0,r.A)("sZZV0yoe",b&&"m8ie8IxL")},a.Ay.createElement("div",{className:l},a.Ay.createElement("span",null,e)),a.Ay.createElement("div",{className:d},a.Ay.createElement("span",null,t))))}))},38102:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(84051),r=n(87412),i=n(76471);const s=(0,a.ph)((({topic:e,className:t,letterClassName:n,size:s,noLoopLimit:o,observeIntersection:c,onClick:l})=>e.iconEmojiId&&"0"!==e.iconEmojiId?a.Ay.createElement(r.A,{documentId:e.iconEmojiId,className:t,size:s,observeIntersectionForPlaying:c,loopLimit:o?void 0:2,onClick:l}):a.Ay.createElement(i.A,{iconColor:e.iconColor,title:e.title,topicId:e.id,className:t,letterClassName:n,onClick:l})))},80477:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(84051),r=n(13439),i=n(90709),s=n(29807),o=n(4961),c=n(59030),l=n(80999);const d=(0,a.ph)((0,r.EK)(((e,{typingStatus:t})=>t.userId?{typingUser:(0,s.mBe)(e,t.userId)}:{}))((({typingStatus:e,typingUser:t})=>{const n=(0,c.A)(),r=t&&!t.isSelf&&(0,i.u0l)(t),s=n(e.action).replace("{user}","").replace("{emoji}",e.emoji||"").trim();return a.Ay.createElement("p",{className:"typing-status",dir:n.isRtl?"rtl":"auto"},r&&a.Ay.createElement("span",{className:"sender-name",dir:"auto"},(0,o.A)(r)),a.Ay.createElement(l.A,{content:s}))})))},87049:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(84051),r=n(13439),i=n(29807),s=n(87357),o=n(14745);const c={root:"AmQSvxpZ",text:"pQW7dcwr"},l={red:[["#FF5B54","#ED1C26"],["#653633","#532224"]],blue:[["#6ED2FF","#34A4FC"],["#344F5A","#152E42"]]},d=new Set(Object.keys(l)),m=(0,a.ph)((0,r.EK)((e=>({theme:(0,i.SJA)(e)})))((({text:e,color:t,className:n,theme:r})=>{const i=`svg-${(0,o.A)()}`,m=d.has(t)?t:void 0,u=m?l[m]["dark"===r?1:0]:void 0,A=u?u[0]:t,h=u?u[1]:t;return a.Ay.createElement("div",{className:(0,s.A)(c.root,n)},a.Ay.createElement("svg",{className:c.ribbon,width:"56",height:"56",viewBox:"0 0 56 56",fill:"none"},a.Ay.createElement("path",{d:"M52.4851 26.4853L29.5145 3.51472C27.2641 1.26428 24.2119 0 21.0293 0H2.82824C1.04643 0 0.154103 2.15429 1.41403 3.41422L52.5856 54.5858C53.8455 55.8457 55.9998 54.9534 55.9998 53.1716V34.9706C55.9998 31.788 54.7355 28.7357 52.4851 26.4853Z",fill:`url(#${i})`}),a.Ay.createElement("defs",null,a.Ay.createElement("linearGradient",{id:i,x1:"27.9998",y1:"1",x2:"27.9998",y2:"55",gradientUnits:"userSpaceOnUse"},a.Ay.createElement("stop",{"stop-color":A}),a.Ay.createElement("stop",{offset:"1","stop-color":h})))),a.Ay.createElement("div",{className:c.text},e))})))},66833:(e,t,n)=>{function a(e){return"starGift"===e.type?e.sticker:e.attributes.find((e=>"model"===e.type))?.sticker}function r(e){return"starGift"===e.type?e.availabilityTotal:e.totalCount}function i(e){if("starGiftUnique"===e.type)return function(e){const t=e.find((e=>"model"===e.type)),n=e.find((e=>"backdrop"===e.type)),a=e.find((e=>"pattern"===e.type));return{model:t,originalDetails:e.find((e=>"originalDetails"===e.type)),pattern:a,backdrop:n}}(e.attributes)}n.d(t,{UC:()=>r,uc:()=>i,yQ:()=>a})},79582:(e,t,n)=>{n.d(t,{A:()=>c});var a=n(13439),r=n(29807),i=n(87894);const s=3e9,o=3e8;function c(e,t=!1,n,c){const l=(0,a.mS)();return(0,i.My)(e,(e=>{if(e===c)return 1/0;const a=(0,r.hds)(l,e);if(!a)return 0;let i=0;const d=(0,r.yHC)(l,e);return d&&(i+=d.date),t&&a.isVerified&&(i+=s),n&&n.includes(e)&&(i=Date.now()+o+(n.length-n.indexOf(e))),i}),"desc")}},54960:(e,t,n)=>{n.d(t,{A:()=>T});var a=n(84051),r=n(13439),i=n(31481),s=n(66644),o=n(90709),c=n(70636),l=n(29807),d=n(87357),m=n(87894),u=n(79824),A=n(96374),h=n(17712),p=n(59030),y=n(19806),f=n(46222),g=n(40664),v=n(52745),C=n(24956),E=n(21849),I=n(34431),S=n(18276),b=n(10187),N=n(45780),w=n(31722);const M="PeerPickerItem",T=(0,a.ph)((({className:e,categories:t,itemIds:n,categoryPlaceholderKey:T,filterValue:x,filterPlaceholder:k,notFoundText:F,searchInputId:P,itemClassName:D,isLoading:L,noScrollRestore:R,isSearchable:O,lockedUnselectedSubtitle:B,forceShowSelf:K,isViewOnly:U,itemInputType:z,withStatus:G,withPeerTypes:j,withDefaultPadding:H,onFilterChange:J,onDisabledClick:V,onLoadMore:$,...q})=>{const W=(0,p.A)(),_=q.allowMultiple,Y=_?q.lockedSelectedIds:void 0,Z=_?q.lockedUnselectedIds:void 0,X=(0,a.Kr)((()=>_?q.selectedCategories:q.selectedCategory?[q.selectedCategory]:u.p),[_,q.selectedCategory,q.selectedCategories]),Q=(0,a.Kr)((()=>_?q.selectedIds:q.selectedId?[q.selectedId]:u.p),[_,q.selectedId,q.selectedIds]),ee=(0,a.li)(null),te=Q.length>10;(0,a.vJ)((()=>{if(!O)return;const e=window.setTimeout((()=>{(0,s.YS)((()=>{ee.current?.focus()}))}),500);return()=>{window.clearTimeout(e)}}),[O]);const ne=(0,a.Kr)((()=>new Set(Y)),[Y]),ae=(0,a.Kr)((()=>new Set(Z)),[Z]),re=(0,a.Kr)((()=>Q.filter((e=>!ne.has(e)))),[ne,Q]),ie=(0,a.Kr)((()=>t?(0,m.dU)(t,"type"):{}),[t]),se=(0,a.Kr)((()=>{if(x)return n;const e=[],t=[],a=[];return n.forEach((n=>{ne.has(n)?e.push(n):ae.has(n)?a.push(n):t.push(n)})),e.concat(t,a)}),[x,n,ne,ae]),oe=(0,h.A)((e=>{if(ne.has(e))V?.(e,!0);else if(ae.has(e))V?.(e,!1);else{if(_&&ie[e]){const t=ie[e].type,n=X?.slice()||[];return n.includes(t)?n.splice(n.indexOf(t),1):n.push(t),void q.onSelectedCategoriesChange?.(n)}if(_){const t=Q.slice();return t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),void q.onSelectedIdsChange?.(t)}ie[e]?q.onSelectedCategoryChange?.(ie[e].type):q.onSelectedIdChange?.(e)}})),ce=(0,h.A)((e=>{const{value:t}=e.currentTarget;J?.(t)})),[le,de]=(0,A.A)($,se,Boolean(x)),me=(0,a.hb)(((e,t)=>{const n=(0,r.mS)(),s=t?ie[e]:void 0,m=t?void 0:(0,l.PVB)(n,e),u=m||s;if(!u)return i.Oig?a.Ay.createElement("div",{key:e},"No peer or category with ID ",e):void 0;const A=m&&!(0,c.vj)(m)?m.isSelf&&!K:void 0,h=ae.has(e),p=ne.has(e),f=h||p,g=s?X?.includes(s.type):Q.includes(e),[v,b]=function(){if(h)return[B];if(G&&m){if((0,c.vj)(m))return[(0,o.sTh)(W,m)];const e=(0,l.K0y)(n,m.id);return[(0,o.CDb)(W,m,e),(0,d.A)((0,o.PFE)(m,e,!0)&&w.A.onlineStatus)]}if(j&&m){const e=(0,c.cy)(m);return e&&[W(e)]}}()||[];return a.Ay.createElement(N.A,{key:e,className:(0,d.A)(M,D),title:a.Ay.createElement(I.A,{peer:u}),avatarElement:a.Ay.createElement(E.A,{peer:m||s,isSavedMessages:A,size:"medium"}),subtitle:v,subtitleClassName:b,disabled:f,inactive:U,ripple:!0,inputElement:f?a.Ay.createElement(S.A,{name:"lock-badge"}):"radio"===z?a.Ay.createElement(C.A,{checked:g,disabled:f,onlyInput:!0}):"checkbox"===z?a.Ay.createElement(y.A,{checked:g,disabled:f,onlyInput:!0}):void 0,inputPosition:"end",onClick:()=>oe(e),onDisabledClick:V&&(()=>V(e,p))})}),[ie,K,U,D,z,W,ne,ae,B,V,X,Q,j,G]),ue=(0,a.Kr)((()=>{if(t?.length)return a.Ay.createElement("div",{key:"categories"},T&&a.Ay.createElement("div",{className:w.A.pickerCategoryTitle},W(T)),t?.map((e=>me(e.type,!0))),a.Ay.createElement("div",{className:w.A.pickerCategoryTitle},W("FilterChats")))}),[t,T,W,me]);return a.Ay.createElement("div",{className:(0,d.A)(w.A.container,e)},O&&a.Ay.createElement("div",{className:(0,d.A)(w.A.header,"custom-scroll"),dir:W.isRtl?"rtl":void 0},X?.map((e=>a.Ay.createElement(b.A,{className:w.A.peerChip,customPeer:ie[e],onClick:oe,clickArg:e,canClose:!0}))),Y?.map(((e,t)=>a.Ay.createElement(b.A,{className:w.A.peerChip,peerId:e,isMinimized:te&&t<Q.length-5,forceShowSelf:K,onClick:oe,clickArg:e}))),re.map(((e,t)=>a.Ay.createElement(b.A,{className:w.A.peerChip,peerId:e,isMinimized:te&&t+(Y?.length||0)<Q.length-5,canClose:!0,onClick:oe,clickArg:e}))),a.Ay.createElement(g.A,{id:P,ref:ee,value:x,onChange:ce,placeholder:k||W("SelectChat")})),le?.length?a.Ay.createElement(f.A,{className:(0,d.A)(w.A.pickerList,H&&w.A.padded,"custom-scroll"),items:le,itemSelector:`.${M}`,beforeChildren:ue,onLoadMore:de,noScrollRestore:R},le.map((e=>me(e)))):L||!le||le.length?a.Ay.createElement(v.A,null):a.Ay.createElement("p",{className:w.A.noResults},F||"Sorry, nothing found."))}))},45780:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(84051),r=n(87357),i=n(82393),s=n(17712),o=n(59030),c=n(42452);const l=({title:e,subtitle:t,avatarElement:n,inputElement:l,inputPosition:d="start",disabled:m,inactive:u,ripple:A,className:h,titleClassName:p,subtitleClassName:y,style:f,onClick:g,onDisabledClick:v})=>{const C=(0,o.A)(),E=!u&&!m,I=(0,s.A)((()=>{u||(m?v?.():g?.())}));return a.Ay.createElement("div",{className:(0,r.A)("OHkx_W75",t&&"neXqB2_A",m&&"tvZeVJPh",E&&"VUSwo4t5",n&&"dMT9byM6",h),onClick:I,style:f,dir:C.isRtl?"rtl":void 0,role:E?"button":void 0,tabIndex:E?0:void 0},!m&&!u&&A&&a.Ay.createElement(c.A,null),l&&a.Ay.createElement("div",{className:(0,r.A)("kmjqObdP","end"===d?"iqGhSQGm":"F0Hv3EQm")},l),n&&a.Ay.createElement("div",{className:"dnAaRPCo"},n),a.Ay.createElement("div",{className:(0,r.A)("JSSC0N8V",p)},e),t&&a.Ay.createElement("div",{className:(0,r.A)("OYmzCSp2",y)},t),!l&&i.pz&&a.Ay.createElement("div",{className:"P53DrbWA"}))}},40558:(e,t,n)=>{n.d(t,{A:()=>A});var a=n(84051),r=n(66644),i=n(90709),s=n(87357),o=n(95807),c=n(87679),l=n(17712),d=n(62587),m=n(93545),u=n(38691);const A=(0,a.ph)((({backgroundColors:e,patternColor:t,patternIcon:n,clearBottomSector:A,className:h})=>{const p=(0,a.li)(null),y=(0,a.li)(null),[f,g]=(0,a.Ul)({width:0,height:0}),v=(0,u.A)(),[C,E]=(0,a.J0)(),I=n&&(0,i.Mwy)(n,"preview"),S=(0,d.A)(I);(0,a.vJ)((()=>{S&&(0,c.NN)(S).then(E)}),[S]);const b=(0,a.Kr)((()=>{const e=[];for(let t=1;t<=3;t++){const n=Math.floor(8*(1+.5*(t-1))),a=t/3,r=.05+(.4-.05)*a,i=t%2==0?Math.PI/n:0;for(let t=0;t<n;t++){const s=t/n*Math.PI*2+i;if(A&&s>.45*Math.PI&&s<.55*Math.PI)continue;const o=.5+1.71*r*Math.cos(s),c=.5+r*Math.sin(s),l=1.4-a*Math.random();e.push({x:o,y:c,sizeFactor:l})}}return e}),[A]);(0,m.A)(p,(e=>{g({width:e.contentRect.width,height:e.contentRect.height})})),(0,a.vJ)((()=>{const e=p.current;e&&g({width:e.clientWidth,height:e.clientHeight})}),[g]);const N=(0,l.A)((()=>{const e=y.current;if(!e||!C)return;const n=e.getContext("2d"),{width:a,height:r}=e;if(!a||!r)return;n.save(),b.forEach((({x:e,y:t,sizeFactor:i})=>{const s=(a-Math.max(a,250*v))/2,o=e*Math.max(a,250*v)+s,c=t*Math.max(r,250*v)+s,l=20*v*i*(s?.8:1);n.drawImage(C,o-l/2,c-l/2,l,l)})),n.restore(),t&&(n.save(),n.fillStyle=t,n.globalCompositeOperation="source-atop",n.fillRect(0,0,a,r),n.restore());const i=n.createRadialGradient(a/2,r/2,0,a/2,r/2,a/2);i.addColorStop(0,"#FFFFFF77"),i.addColorStop(1,"#FFFFFF"),n.save(),n.globalCompositeOperation="destination-out",n.fillStyle=i,n.fillRect(0,0,a,r),n.restore()}));return(0,a.vJ)((()=>{N()}),[C]),(0,a.vJ)((()=>{const{width:e,height:t}=f(),n=y.current;if(!e||!t)return;const a=Math.max(e,t);(0,r.RK)((()=>{n.width=a*v,n.height=a*v,N()}))}),[f,v]),a.Ay.createElement("div",{ref:p,className:(0,s.A)("Af3tYFMg",h),style:(0,o.A)(`--_bg-1: ${e[0]}`,`--_bg-2: ${e[1]||e[0]}`)},a.Ay.createElement("canvas",{className:"GbpiDSS_",ref:y}))}))},83594:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(84051),r=n(90709),i=n(87357),s=n(95807),o=n(82393),c=n(62587),l=n(87412);const d="PZAuNVZH",m=(0,a.ph)((({reaction:e,isLottie:t,className:n,particleSize:m,onEnded:u})=>{const A=(0,r.aLQ)(e.documentId,!0),h=(0,c.A)(t?void 0:A),p=(0,a.Kr)((()=>o.ol?Array.from({length:7}).map((()=>function(e=20){const t=(e/2+Math.random()*e*3)*(Math.random()>.5?1:-1),n=e+Math.random()*e*4;return`M 0 0 C 0 0 ${t} ${-n-e} ${t} ${n}`}(m))):[]),[m]);if(h||t)return a.Ay.createElement("div",{className:(0,i.A)("aInga6VW",n),style:(0,s.A)(Boolean(m)&&`--particle-size: ${m}px`)},p.map(((n,r)=>{const i=`--offset-path: path('${n}');`;return t?a.Ay.createElement(l.A,{documentId:e.documentId,className:d,style:i,withSharedAnimation:!0,size:m,onAnimationEnd:0===r?u:void 0}):a.Ay.createElement("img",{src:h,alt:"",className:d,style:i,draggable:!1,onAnimationEnd:0===r?u:void 0})})))}))},11241:(e,t,n)=>{n.d(t,{A:()=>b});var a=n(84051),r=n(13439),i=n(90709),s=n(29807),o=n(87357),c=n(43336),l=n(76023),d=n(37661),m=n(5912),u=n(17712),A=n(62587),h=n(50680),p=n(47483),y=n(18104),f=n(87412),g=n(83594),v=n(17794),C=n(93879);const E=1.5*l.$,I=6.5*l.$,S=l.$,b=(0,a.ph)((0,r.EK)(((e,{containerId:t})=>{const{genericEmojiEffects:n,reactions:a}=e,{activeReactions:r}=(0,s.nTw)(e),i=(0,s.xYJ)(e,"reactionEffects");return{activeReactions:r?.[t],availableReactions:a.availableReactions,genericEffects:n,withEffects:i}}))((({containerId:e,reaction:t,className:n,size:s=E,effectSize:l=I,activeReactions:b,availableReactions:N,genericEffects:w,withEffects:M,withEffectOnly:T,shouldPause:x,shouldLoop:k,loopLimit:F,observeIntersection:P})=>{const{stopActiveReaction:D}=(0,r.ko)(),L=(0,a.li)(null),R="custom"===t.type,O=(0,a.Kr)((()=>N?.find((e=>(0,i.a0K)(e.reaction,t)))),[N,t]),B=O?.centerIcon?.id,{customEmoji:K}=(0,p.A)(R?t.documentId:void 0),U=(0,a.Kr)((()=>{if(!R)return O?.aroundAnimation?.id;if(!K)return;const e=N?.find((e=>e.reaction.emoticon===K.emoji))?.aroundAnimation?.id;return e}),[O,N,K,R]),z=(0,a.Kr)((()=>{if(U)return U;if(!w?.stickers)return;const{stickers:e}=w;return e[Math.floor(Math.random()*e.length)].id}),[U,w]),G=(0,m.Vz)(L,P),j=B&&(0,i.aLQ)(B),H=z&&(0,i.aLQ)(z),J=(0,A.A)(j),V=(0,A.A)(H),$=(0,a.Kr)((()=>b?.find((e=>(0,i.a0K)(e,t)))),[b,t]),q=Boolean(M&&$&&(R||J)&&V),W=G&&(q&&!T||k),{shouldRender:_,transitionClassNames:Y}=(0,h.A)(q,void 0,!0,"slow"),{shouldRender:Z,transitionClassNames:X}=(0,h.A)(W,void 0,!0,"slow"),Q=(0,u.A)((()=>{D({containerId:e,reaction:t})})),[ee,te,ne]=(0,d.A)(),ae=!(R||W&&ee),{shouldRender:re,transitionClassNames:ie}=(0,h.A)(ae,void 0,!0),se=(0,o.A)(C.A.root,_&&C.A.animating,T&&C.A.withEffectOnly,n);return a.Ay.createElement("div",{className:se,ref:L},!T&&re&&a.Ay.createElement(v.A,{className:ie,reaction:t,availableReactions:N,size:s,observeIntersection:P}),!T&&R&&a.Ay.createElement(f.A,{documentId:t.documentId,className:C.A.customEmoji,size:s,noPlay:x,noVideoOnMobile:!0,loopLimit:F,observeIntersectionForPlaying:P,forceAlways:!0}),Z&&!R&&a.Ay.createElement(y.A,{key:`${B}-${s}`,className:(0,o.A)(C.A.animatedIcon,X),size:(0,c.Ki)(1.9*s),tgsUrl:J,play:G&&!x,noLoop:!k,onLoad:te,onEnded:ne,forceAlways:!0}),_&&a.Ay.createElement(a.Ay.Fragment,null,a.Ay.createElement(y.A,{key:`${z}-${l}`,className:(0,o.A)(C.A.effect,Y),size:l,tgsUrl:V,play:G,noLoop:!0,onEnded:Q,forceAlways:!0}),R&&!U&&G&&a.Ay.createElement(g.A,{reaction:t,className:Y,particleSize:Math.max(.5*s,S),onEnded:Q})))})))},17794:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(84051),r=n(90709),i=n(87357),s=n(62587),o=n(83057),c=n(87412),l=n(18276),d=n(61911);const m=(0,a.ph)((({reaction:e,availableReactions:t,className:n,size:m,withIconHeart:u,observeIntersection:A})=>{const h=(0,a.Kr)((()=>t?.find((t=>(0,r.a0K)(t.reaction,e)))),[t,e]),p=h?.staticIcon?.id,y=p?`document${p}`:void 0,f=(0,s.A)(y),g=(0,o.A)(f),v="emoji"===e.type&&"ðŸ¦„"===e.emoticon,C=u&&"emoji"===e.type&&"â¤"===e.emoticon;return"custom"===e.type?a.Ay.createElement(c.A,{documentId:e.documentId,className:(0,i.A)("ReactionStaticEmoji",n),size:m,observeIntersectionForPlaying:A}):C?a.Ay.createElement(l.A,{name:"heart",className:"ReactionStaticEmoji",style:`font-size: ${m}px; width: ${m}px`}):a.Ay.createElement("img",{className:(0,i.A)("ReactionStaticEmoji",v&&"with-unicorn-fix",g,n),style:m?`width: ${m}px; height: ${m}px`:void 0,src:f||d,alt:h?.title,draggable:!1})}))},97967:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(84051),r=n(80089),i=n(80464);const s=e=>{const{isOpen:t}=e,n=(0,i.A)(r.ar.Extra,"ChatFolderModal",!t);return n?a.Ay.createElement(n,e):void 0}},97046:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(84051),r=n(80089),i=n(80464);const s=e=>{const{isOpen:t}=e,n=(0,i.A)(r.ar.Extra,"MuteChatModal",!t);return n?a.Ay.createElement(n,e):void 0}},32754:(e,t,n)=>{n.d(t,{A:()=>L});var a=n(84051),r=n(13439),i=n(23174),s=n(89925),o=n(90709),c=n(26129),l=n(29807),d=n(87357),m=n(66414),u=n(82393),A=n(98255),h=n(43874),p=n(47067),y=n(49746),f=n(37661),g=n(5912),v=n(17712),C=n(50680),E=n(53188),I=n(21849),S=n(54314),b=n(34431),N=n(18276),w=n(9267),M=n(81642),T=n(22720),x=n(97967),k=n(97046),F=n(24807);const P="AA5s1Pu4",D=(0,a.ph)((({isSelected:e,isActive:t,isMobile:n})=>a.Ay.createElement("div",{className:(0,d.A)("byPckqUT",t&&"IsUWP16T",e&&!n&&"qy2i51dM")},a.Ay.createElement("div",{className:"nl36F75B"},a.Ay.createElement("div",{className:P}),a.Ay.createElement("div",{className:P}),a.Ay.createElement("div",{className:P}))))),L=(0,a.ph)((0,r.EK)(((e,{chatId:t,isSavedDialog:n,isPreview:a,previewMessageId:r})=>{const s=(0,l.hds)(e,t),d=(0,l.mBe)(e,t);if(!s)return{currentUserId:e.currentUserId};const m=r||(0,l.ZZX)(e,t,n?"saved":"all"),u=r?(0,l.O5q)(e,t,r):(0,l.yHC)(e,t,n?"saved":"all"),{isOutgoing:A,forwardInfo:h}=u||{},p=n&&h?.fromId?(0,l.PVB)(e,h.fromId):void 0,y=u?(0,l.Y7C)(e,u):void 0,f=p||y,g=u&&(0,c.Q)(u)?.replyToMsgId,v=u?(0,o.mKC)(u):void 0,C=v&&g?(0,l.O5q)(e,s.id,g):void 0,{targetUserIds:E,targetChatId:I}=v||{},{chatId:S,threadId:b,type:N}=(0,l.Xf0)(e)||{},w=!a&&t===S&&(n?t===b:b===i.l3),M=s.isForum&&t===S||t===(0,l.nTw)(e).forumPanelChatId,T=(0,l.K0y)(e,t),x=u&&(0,l.nkm)(e,u),k=(0,l.C5H)(e,t,i.l3,"typingStatus"),F=(0,l.xyP)(e,t),P=u?.content.storyData,D=P&&(0,l.Msb)(e,P.peerId,P.id);return{chat:s,isMuted:(0,o.W1R)(s,(0,l.$5S)(e),(0,l.GrP)(e)),lastMessageSender:f,actionTargetUserIds:E,actionTargetChatId:I,actionTargetMessage:C,draft:(0,l.GA4)(e,t,i.l3),isSelected:w,isSelectedForum:M,isForumPanelOpen:(0,l.clw)(e),canScrollDown:w&&"thread"===N,canChangeFolder:(e.chatFolders.orderedIds?.length||0)>1,...A&&u&&{lastMessageOutgoingStatus:(0,l.Tl2)(e,u)},user:d,userStatus:T,lastMessageTopic:x,typingStatus:k,withInterfaceAnimations:(0,l.PKK)(e),lastMessage:u,lastMessageId:m,currentUserId:e.currentUserId,listedTopicIds:F?.listedTopicIds,topics:F?.topicsById,isSynced:e.isSynced,lastMessageStory:D}}))((({chatId:e,folderId:t,orderDiff:n,animationType:c,isPinned:P,listedTopicIds:L,topics:R,observeIntersection:O,chat:B,lastMessageStory:K,isMuted:U,user:z,userStatus:G,actionTargetUserIds:j,lastMessageSender:H,lastMessageOutgoingStatus:J,actionTargetMessage:V,actionTargetChatId:$,offsetTop:q,draft:W,withInterfaceAnimations:_,isSelected:Y,isSelectedForum:Z,isForumPanelOpen:X,canScrollDown:Q,canChangeFolder:ee,lastMessageTopic:te,typingStatus:ne,lastMessageId:ae,lastMessage:re,isSavedDialog:ie,currentUserId:se,isPreview:oe,previewMessageId:ce,className:le,isSynced:de,onDragEnter:me})=>{const{openChat:ue,openSavedDialog:Ae,toggleChatInfo:he,focusLastMessage:pe,focusMessage:ye,loadTopics:fe,openForumPanel:ge,closeForumPanel:ve,setShouldCloseRightColumn:Ce,reportMessages:Ee}=(0,r.ko)(),{isMobile:Ie}=(0,h.Ay)(),[Se,be,Ne]=(0,f.A)(),[we,Me,Te]=(0,f.A)(),[xe,ke,Fe]=(0,f.A)(),[Pe,De,Le]=(0,f.A)(),[Re,Oe,Be]=(0,f.A)(),[Ke,Ue,ze]=(0,f.A)(),{isForum:Ge,isForumAsMessages:je}=B||{};(0,y.A)(ie?se:e,ae,re);const{renderSubtitle:He,ref:Je}=(0,E.A)({chat:B,chatId:e,lastMessage:re,typingStatus:ne,draft:W,statefulMediaContent:(0,o.cWA)({story:K}),actionTargetMessage:V,actionTargetUserIds:j,actionTargetChatId:$,lastMessageTopic:te,lastMessageSender:H,observeIntersection:O,animationType:c,withInterfaceAnimations:_,orderDiff:n,isSavedDialog:ie,isPreview:oe,topics:R}),Ve=(0,A.A)(l.sRo),$e=(0,v.A)((()=>{const t=Ie&&je;if(Ie&&Ce({value:!0}),oe)ye({chatId:e,messageId:ce});else{if(ie)return Ae({chatId:e,noForumTopicPanel:!0},{forceOnHeavyAnimation:!0}),void(Ie&&he({force:!1}));if(Ge){if(X)return void ve(void 0,{forceOnHeavyAnimation:!0});if(t||ge({chatId:e},{forceOnHeavyAnimation:!0}),!je)return}ue({id:e,noForumTopicPanel:t,shouldReplaceHistory:!0},{forceOnHeavyAnimation:!0}),Y&&Q&&pe()}})),qe=(0,v.A)((t=>{t.preventDefault(),me?.(e)})),We=(0,v.A)((()=>{De(),be()})),_e=(0,v.A)((()=>{Oe(),Me()})),Ye=(0,v.A)((()=>{Ue(),ke()})),Ze=(0,v.A)((()=>{B&&Ee({chatId:B.id,messageIds:[]})})),Xe=(0,p.A)({chat:B,user:z,handleDelete:We,handleMute:_e,handleChatFolderChange:Ye,handleReport:Ze,folderId:t,isPinned:P,isMuted:U,canChangeFolder:ee,isSavedDialog:ie,currentUserId:se,isPreview:oe}),Qe=(0,g.Vz)(Je,B?O:void 0);(0,a.vJ)((()=>{Qe&&Ge&&de&&void 0===L&&fe({chatId:e})}),[e,L,de,Ge,Qe]);const et=z&&G&&(0,o.PFE)(z,G),{hasShownClass:tt}=(0,C.A)(et),nt=(0,a.Kr)((()=>{if(u.OS)return ie?`#${(0,m.az)(se,"thread",e)}`:`#${(0,m.az)(e,"thread",i.l3)}`}),[e,se,ie]);if(!B)return;const at=z||B,rt=(0,d.A)("Chat chat-item-clickable",(0,o.L8L)(e)?"private":"group",Ge&&"forum",Y&&"selected",Z&&"selected-forum",oe&&"standalone",le);return a.Ay.createElement(T.A,{ref:Je,className:rt,href:nt,style:`top: ${q}px`,ripple:!Ge&&!Ie,contextActions:Xe,onClick:$e,onDragEnter:qe,withPortalForMenu:!0},a.Ay.createElement("div",{className:(0,d.A)("status","status-clickable")},a.Ay.createElement(I.A,{peer:at,isSavedMessages:z?.isSelf,isSavedDialog:ie,size:oe?"medium":"large",withStory:!z?.isSelf,withStoryGap:tt||Boolean(B.subscriptionUntil),storyViewerOrigin:s.G9.ChatList,storyViewerMode:"single-peer"}),a.Ay.createElement("div",{className:"avatar-badge-wrapper"},a.Ay.createElement("div",{className:(0,d.A)("avatar-online","avatar-badge",tt&&"avatar-online-shown")}),!tt&&Boolean(B.subscriptionUntil)&&a.Ay.createElement(w.A,{type:"gold",className:"avatar-badge avatar-subscription",size:"adaptive"}),a.Ay.createElement(F.A,{chat:B,isMuted:U,shouldShowOnlyMostImportant:!0,forceHidden:Ve,topics:R,isSelected:Y})),B.isCallActive&&B.isCallNotEmpty&&a.Ay.createElement(D,{isMobile:Ie,isSelected:Y,isActive:_})),a.Ay.createElement("div",{className:"info"},a.Ay.createElement("div",{className:"info-row"},a.Ay.createElement(b.A,{peer:at,withEmojiStatus:!0,isSavedMessages:e===z?.id&&z?.isSelf,isSavedDialog:ie,observeIntersection:O}),U&&!ie&&a.Ay.createElement(N.A,{name:"muted"}),a.Ay.createElement("div",{className:"separator"}),re&&a.Ay.createElement(M.A,{message:re,outgoingStatus:ie?void 0:J,draftDate:W?.date})),a.Ay.createElement("div",{className:"subtitle"},He(),!oe&&a.Ay.createElement(F.A,{chat:B,isPinned:P,isMuted:U,isSavedDialog:ie,hasMiniApp:z?.hasMainMiniApp,topics:R,isSelected:Y}))),Pe&&a.Ay.createElement(S.A,{isOpen:Se,onClose:Ne,onCloseAnimationEnd:Le,chat:B,isSavedDialog:ie}),Re&&a.Ay.createElement(k.A,{isOpen:we,onClose:Te,onCloseAnimationEnd:Be,chatId:e}),Ke&&a.Ay.createElement(x.A,{isOpen:xe,onClose:Fe,onCloseAnimationEnd:ze,chatId:e}))})))},24807:(e,t,n)=>{n.d(t,{A:()=>y});var a=n(84051),r=n(13439),i=n(87357),s=n(22237),o=n(14242),c=n(59852),l=n(19129),d=n(17712),m=n(59030),u=n(68292),A=n(18276),h=n(64493),p=n(26607);const y=(0,a.ph)((({topic:e,topics:t,chat:n,isPinned:y,isMuted:f,shouldShowOnlyMostImportant:g,wasTopicOpened:v,forceHidden:C,isSavedDialog:E,hasMiniApp:I,isSelected:S})=>{const{requestMainWebView:b}=(0,r.ko)(),N=(0,m.A)(),{unreadMentionsCount:w=0,unreadReactionsCount:M=0}=n.isForum?{}:n,T=!y&&e&&!v,x=n.isForum&&!e,k=(0,a.Kr)((()=>x&&t?Object.values(t).filter((({unreadCount:e})=>e)):void 0),[t,x]),F=(0,a.Kr)((()=>x?f&&k?.filter((e=>!1===e.isMuted)).length||k?.length:(e||n).unreadCount),[n,e,k,x,f]),P=(0,a.Kr)((()=>{const e=t&&Object.values(t).some((e=>!e.isMuted&&e.unreadCount));return f||t&&!e}),[t,f]),D=!e&&n.hasUnreadMark,L=!(0,l.A)((()=>(0,s.Hp)(C)?C():C),[C])&&Boolean(F||w||D||y||M||T||I),R=Boolean((F||D)&&!E),O=(0,i.A)("ChatBadge",P&&"muted",!R&&y&&"pinned",R&&"unread"),B=(0,d.A)((e=>{e.stopPropagation();const t=(0,c.A)();b({botId:n.id,peerId:n.id,theme:t,shouldMarkBotTrusted:!0})}));return a.Ay.createElement(p.A,{isCustom:!0,className:"ChatBadge-transition",isOpen:L},function(){const e=M&&a.Ay.createElement("div",{className:(0,i.A)("ChatBadge reaction",P&&"muted")},a.Ay.createElement(A.A,{name:"heart"})),t=w&&a.Ay.createElement("div",{className:"ChatBadge mention"},a.Ay.createElement(A.A,{name:"mention"})),n=T&&a.Ay.createElement("div",{className:(0,i.A)("ChatBadge unopened",P&&"muted")}),r=D||F?a.Ay.createElement("div",{className:O},!D&&a.Ay.createElement(u.A,{text:(0,o.Vw)(F)})):void 0,s=y&&a.Ay.createElement("div",{className:O},a.Ay.createElement(A.A,{name:"pinned-chat"})),c=I&&a.Ay.createElement(h.A,{color:S?"secondary":"primary",className:"ChatBadge miniapp",pill:!0,size:"tiny",onClick:B},N("BotOpen")),l=!r&&!t&&!e&&s,d=[n,e,t,r,l].filter(Boolean);return E?s:I&&(0===d.length||l)?c:0!==d.length?1===d.length?d[0]:g?[t,r,e,s].filter(Boolean)[0]:a.Ay.createElement("div",{className:"ChatBadge-wrapper"},d):void 0}())}))},52533:(e,t,n)=>{n.d(t,{A:()=>N,K:()=>b});var a=n(84051),r=n(13439),i=n(31880),s=n(31481),o=n(29807),c=n(64520),l=n(87357),d=n(11778),m=n(50442),u=n(79824),A=n(82393),h=n(18501),p=n(19129),y=n(74984),f=n(26072),g=n(39351),v=n(17712),C=n(21511),E=n(24680),I=n(41036),S=n(62830);const b={"ðŸ’¬":"folder-chats","âœ…":"folder-chat","ðŸ‘¤":"folder-user","ðŸ‘¥":"folder-group","â­":"folder-star","ðŸ“¢":"folder-channel","ðŸ¤–":"folder-bot","ðŸ“":"folder-default"},N=(0,a.ph)((0,r.EK)((e=>{const{chatFolders:{byId:t,orderedIds:n,invites:a},chats:{listIds:{archived:r}},stories:{orderedPeerIds:{archived:i}},activeSessions:{byHash:s},currentUserId:l,archiveSettings:d}=e,{shouldSkipHistoryAnimations:m,activeChatFolder:u}=(0,o.nTw)(e),{storyViewer:{isRibbonShown:A}}=(0,o.nTw)(e);return{chatFoldersById:t,folderInvitesById:a,orderedFolderIds:n,activeChatFolder:u,currentUserId:l,shouldSkipHistoryAnimations:m,hasArchivedChats:Boolean(r?.length),hasArchivedStories:Boolean(i?.length),maxFolders:(0,c.d)(e,"dialogFilters"),maxFolderInvites:(0,c.d)(e,"chatlistInvites"),maxChatLists:(0,c.d)(e,"chatlistJoined"),archiveSettings:d,isStoryRibbonShown:A,sessions:s}}))((({foldersDispatch:e,onSettingsScreenSelect:t,onLeftColumnContentChange:n,chatFoldersById:c,orderedFolderIds:N,activeChatFolder:w,currentUserId:M,isForumPanelOpen:T,shouldSkipHistoryAnimations:x,maxFolders:k,maxChatLists:F,shouldHideFolderTabs:P,folderInvitesById:D,maxFolderInvites:L,hasArchivedChats:R,hasArchivedStories:O,archiveSettings:B,isStoryRibbonShown:K,sessions:U})=>{const{loadChatFolders:z,setActiveChatFolder:G,openChat:j,openShareChatFolderModal:H,openDeleteChatFolderModal:J,openEditChatFolder:V,openLimitReachedModal:$}=(0,r.ko)(),q=(0,a.li)(null),W=(0,g.A)();(0,a.vJ)((()=>{z()}),[]);const{ref:_,shouldRender:Y,getIsClosing:Z}=(0,C.A)({isOpen:K,className:!1,withShouldRender:!0}),X=((0,p.A)(Z),(0,a.Kr)((()=>({id:s.DSF,title:{text:N?.[0]===s.DSF?W("FilterAllChatsShort"):W("FilterAllChats")},includedChatIds:u.p,excludedChatIds:u.p})),[N,W])),Q=(0,a.Kr)((()=>N?N.map((e=>e===s.DSF?X:c[e]||{})).filter(Boolean):void 0),[c,X,N]),ee=Q?.findIndex((e=>e.id===s.DSF)),te=ee===w,ne=0===w,ae=(0,y.ic)(),re=(0,a.Kr)((()=>{if(Q&&Q.length)return Q.map(((e,t)=>{const{id:n,title:a}=e,l=n!==s.DSF&&t>k-1,d=[];let m;(0,o.w5O)((0,r.mS)(),n)&&d.push({title:W("FilterShare"),icon:"link",handler:()=>{Object.values(c).reduce(((e,t)=>e+(t.isChatList?1:0)),0)>=F&&!e.isChatList?$({limit:"chatlistJoined"}):D[n]?.length>=L?$({limit:"chatlistInvites"}):H({folderId:n})}}),n!==s.DSF&&(d.push({title:W("FilterEdit"),icon:"edit",handler:()=>{V({folderId:n})}}),d.push({title:W("FilterDelete"),icon:"delete",destructive:!0,handler:()=>{J({folderId:n})}}));let u,A=a.text,p=a.entities;return p?.length&&"MessageEntityCustomEmoji"===p[0].type&&0===p[0].offset?(m=p[0].documentId,A=A.slice(p[0].length+1),p=p.slice(1)):(u=(0,i.lR)(A,p||[]).trim(),A=(0,i.d0)(A,p||[])),{id:n,title:(0,h.f)({text:A,entities:p,noCustomEmojiPlayback:e.noTitleAnimations}),icon:b[e.emoticon]||(u?null:"folder-default"),emoji:e.emoticon&&e.emoticon in b?e.emoticon:u,customEmoji:m,noCustomEmojiPlayback:e.noTitleAnimations,badgeCount:ae[n]?.chatsCount,isBadgeActive:Boolean(ae[n]?.notificationsCount),isBlocked:l,contextActions:d?.length?d:void 0}}))}),[Q,k,ae,W,c,F,D,L]),ie=(0,v.A)((e=>{G({activeChatFolder:e},{forceOnHeavyAnimation:!0})}));(0,a.vJ)((()=>{re?.length&&w>=re.length&&G({activeChatFolder:0})}),[w,re,G]),(0,a.vJ)((()=>{if(A.TF&&re?.length&&!T)return(0,m.wJ)(q.current,{selectorToPreventScroll:".chat-list",onSwipe:(e,t)=>t===m.ez.Left?(G({activeChatFolder:Math.min(w+1,re.length-1)},{forceOnHeavyAnimation:!0}),!0):t===m.ez.Right&&(G({activeChatFolder:Math.max(0,w-1)},{forceOnHeavyAnimation:!0}),!0)})}),[w,re,T,G]);const se=(0,a.li)();se.current=!ne,(0,a.vJ)((()=>se.current?(0,d.A)((()=>{se.current&&G({activeChatFolder:0})})):void 0),[w,G]),(0,f.A)({isActive:!ne,onBack:()=>G({activeChatFolder:0},{forceOnHeavyAnimation:!0})}),(0,a.vJ)((()=>{const e=e=>{if(e.ctrlKey&&e.shiftKey&&e.code.startsWith("Digit")&&re){const[,t]=e.code.match(/Digit(\d)/)||[];if(!t)return;if("0"===t)return void j({id:M,shouldReplaceHistory:!0});const n=Number(t)-1;if(n>re.length-1)return;G({activeChatFolder:n},{forceOnHeavyAnimation:!0}),e.preventDefault()}};return document.addEventListener("keydown",e,!0),()=>{document.removeEventListener("keydown",e,!0)}}),[M,re,j,G]);const{ref:oe,shouldRender:ce}=(0,C.A)({isOpen:!N,noMountTransition:!0,withShouldRender:!0});function le(r){const i=Object.values(c).find((({id:e})=>e===re[w].id)),s=i&&!te;return a.Ay.createElement(S.A,{folderType:s?"folder":"all",folderId:s?i.id:void 0,isActive:r,isForumPanelOpen:T,foldersDispatch:e,onSettingsScreenSelect:t,onLeftColumnContentChange:n,canDisplayArchive:(R||O)&&!B.isHidden,archiveSettings:B,sessions:U})}const de=re&&re.length>1;return(0,a.vJ)((()=>{document.body.classList.toggle("with-folder-tabs",de&&!P)}),[de,P]),a.Ay.createElement("div",{ref:_,className:(0,l.A)("ChatFolders",de&&P&&"ChatFolders--tabs-hidden",Y&&"with-story-ribbon")},de?a.Ay.createElement(E.A,{contextRootElementSelector:"#LeftColumn",tabs:re,activeTab:w,onSwitchTab:ie}):ce?a.Ay.createElement("div",{ref:oe,className:"tabs-placeholder"}):void 0,a.Ay.createElement(I.Ay,{ref:q,name:"none",activeKey:w,renderCount:de?re.length:void 0},le))})))},62830:(e,t,n)=>{n.d(t,{A:()=>V});var a=n(84051),r=n(13439),i=n(89925),s=n(31481),o=n(87357),c=n(49763),l=n(80140),d=n(82393),m=n(23459),u=n(66644),A=n(9718),h=n(16581),p=n(17712),y=n(74984),f=n(2178),g=n(96374),v=n(5912),C=n(9717),E=n(46222),I=n(52745),S=n(90709),b=n(87894),N=n(14242),w=n(4961),M=n(59030),T=n(21849),x=n(18276),k=n(24713),F=n(22720);const P={root:"sG8AAzvK",minimized:"lTOui0dp",button:"bNkLqJf1",title:"rMTpNazX","unread-count":"O7esHjyC",unreadCount:"O7esHjyC",info:"OS2LWzdu",name:"bkCtPuPQ",icon:"f4LUPgr4",avatarWrapper:"RMY__Znz",avatar:"qeb0Aox1",chatsPreview:"_1817Hwgd",unread:"SS39xuL3"},D={isCustomPeer:!0,title:"Archived Chats",avatarIcon:"archive-filled",customPeerAvatarColor:"#9EAAB5"},L=(0,a.ph)((({archiveSettings:e,onDragEnter:t,onClick:n})=>{const{updateArchiveSettings:i}=(0,r.ko)(),c=(0,M.A)(),l=(0,y.Rh)(s._E9),d=(0,y.ic)(),m=d[s._E9]?.chatsCount,u=(0,a.Kr)((()=>{if(!l?.length)return c("Loading");const e=(0,r.mS)().chats.byId;return l.slice(0,5).map(((t,n,r)=>{const i=n===r.length-1,s=e[t];if(!s)return;const l=(0,S.JsG)(c,s);return a.Ay.createElement(a.Ay.Fragment,null,a.Ay.createElement("span",{className:(0,o.A)(P.chat,m&&s.unreadCount&&P.unread)},(0,w.A)(l)),i?"":", ")}))}),[l,c,m]),A=(0,a.Kr)((()=>{const t=!e.isMinimized&&{title:c("lng_context_archive_collapse"),icon:"collapse",handler:()=>{i({isMinimized:!0})}},n=e.isMinimized&&{title:c("lng_context_archive_expand"),icon:"expand",handler:()=>{i({isMinimized:!1})}},a={title:c("lng_context_archive_to_menu"),icon:"archive-to-main",handler:()=>{i({isHidden:!0})}};return(0,b.oE)([t,n,a])}),[e.isMinimized,c,i]),h=(0,a.hb)((e=>{e.preventDefault(),t?.()}),[t]);return a.Ay.createElement(F.A,{onClick:n,onDragEnter:h,className:(0,o.A)(P.root,e.isMinimized&&P.minimized,"chat-item-clickable","chat-item-archive"),buttonClassName:P.button,contextActions:A,withPortalForMenu:!0},e.isMinimized?a.Ay.createElement("div",{className:(0,o.A)(P.info,"info")},a.Ay.createElement("div",{className:"info-row"},a.Ay.createElement("div",{className:(0,o.A)("title",P.title)},a.Ay.createElement("h3",{dir:"auto",className:(0,o.A)(P.name,"fullName")},a.Ay.createElement(x.A,{name:"archive-filled",className:P.icon}),c("ArchivedChats"))),a.Ay.createElement(k.A,{className:P.unreadCount,text:m?(0,N.Vw)(m):void 0}))):a.Ay.createElement(a.Ay.Fragment,null,a.Ay.createElement("div",{className:(0,o.A)("status",P.avatarWrapper)},a.Ay.createElement(T.A,{peer:D})),a.Ay.createElement("div",{className:(0,o.A)(P.info,"info")},a.Ay.createElement("div",{className:"info-row"},a.Ay.createElement("div",{className:(0,o.A)("title",P.title)},a.Ay.createElement("h3",{dir:"auto",className:(0,o.A)(P.name,"fullName")},c("ArchivedChats")))),a.Ay.createElement("div",{className:"subtitle"},a.Ay.createElement("div",{className:(0,o.A)("status",P.chatsPreview)},u),a.Ay.createElement(k.A,{className:P.unreadCount,text:m?(0,N.Vw)(m):void 0})))))}));var R=n(32754),O=n(29807),B=n(43874),K=n(79577),U=n(64493);const z=(0,a.ph)((0,r.EK)(((e,{folderId:t,folderType:n})=>({chatFolder:t&&"folder"===n?(0,O.$aQ)(e,t):void 0,animatedEmoji:(0,O.oei)(e,"ðŸ“‚")})))((({chatFolder:e,animatedEmoji:t,foldersDispatch:n,onSettingsScreenSelect:r})=>{const s=(0,M.A)(),{isMobile:o}=(0,B.Ay)(),c=(0,a.hb)((()=>{n({type:"editFolder",payload:e}),r(i.VS.FoldersEditFolderFromChatList)}),[e,n,r]);return a.Ay.createElement("div",{className:"yftKUVDQ"},a.Ay.createElement("div",{className:"UCBfMOiz"},t&&a.Ay.createElement(K.A,{sticker:t,size:96})),a.Ay.createElement("h3",{className:"dB9cHelg",dir:"auto"},s("FilterNoChatsToDisplay")),a.Ay.createElement("p",{className:"TJ_liZcJ",dir:"auto"},s(e?"ChatList.EmptyChatListFilterText":"Chat.EmptyChat")),e&&a.Ay.createElement(U.A,{ripple:!o,fluid:!0,pill:!0,onClick:c,size:"smaller",isRtl:s.isRtl},a.Ay.createElement(x.A,{name:"settings"}),a.Ay.createElement("div",{className:"aL7e0w4t"},s("ChatList.EmptyChatListEditFilter"))))})));var G=n(93545);const j="pedMJD_v",H=(0,a.ph)((({sessions:e,onHeightChange:t})=>{const{changeSessionSettings:n,terminateAuthorization:i,showNotification:s}=(0,r.ko)(),o=(0,a.li)(null),c=(0,M.A)();(0,G.A)(o,(e=>{const n=e.borderBoxSize?.[0]?.blockSize||e.contentRect.height;t(n)}));const l=(0,a.Kr)((()=>Object.values(e).sort(((e,t)=>t.dateCreated-e.dateCreated)).find((e=>e.isUnconfirmed))),[e]),d=(0,a.Kr)((()=>[l.deviceModel,l.region,l.country].filter(Boolean).join(", ")),[l]),m=(0,p.A)((()=>{n({hash:l.hash,isConfirmed:!0})})),u=(0,p.A)((()=>{i({hash:l.hash}),s({title:c("UnconfirmedAuthDeniedTitle",1),message:c("UnconfirmedAuthDeniedMessageSingle",d)})}));return a.Ay.createElement("div",{className:"yEkGgZVL",ref:o},a.Ay.createElement("h2",{className:"VhAJDrnz"},c("UnconfirmedAuthTitle")),a.Ay.createElement("p",{className:"WmyL1NJ8"},c("UnconfirmedAuthSingle",d)),a.Ay.createElement("div",{className:"_40UGD1Y"},a.Ay.createElement(U.A,{fluid:!0,isText:!0,size:"smaller",className:j,onClick:m},c("UnconfirmedAuthConfirm")),a.Ay.createElement(U.A,{fluid:!0,isText:!0,size:"smaller",color:"danger",onClick:u,className:j},c("UnconfirmedAuthDeny"))))})),J=new Set(["9","0"]),V=(0,a.ph)((({className:e,folderType:t,folderId:n,isActive:S,isForumPanelOpen:b,canDisplayArchive:N,archiveSettings:w,sessions:M,foldersDispatch:T,onSettingsScreenSelect:x,onLeftColumnContentChange:k})=>{const{openChat:F,openNextChat:P,closeForumPanel:D,toggleStoryRibbon:O}=(0,r.ko)(),B=(0,a.li)(null),K=(0,a.li)(!1),[U,G]=(0,a.J0)(0),j="archived"===t,V="all"===t,$="saved"===t,q=V?s.DSF:j?s._E9:$?s.pX9:n,W=V&&N&&w,_=(0,y.Rh)(q);(0,m.A)(_);const Y=(_?.length||0)*s.yq1,Z=W?w?.isMinimized?s.eqO:s.yq1:0,{orderDiffById:X,getAnimationType:Q}=(0,C.A)(_),[ee,te]=(0,g.A)(void 0,_,void 0,s.T7t),ne=(0,a.Kr)((()=>{const e=Object.values(M||{}),t=e.find((e=>e.isCurrent));return!(!t||(0,l.Fm)()-t.dateCreated<s.C7Y)&&V&&e.some((e=>e.isUnconfirmed))}),[V,M]);(0,a.vJ)((()=>{ne||G(0)}),[ne]),(0,f.v)((0,a.Kr)((()=>S&&_?.length?{"Alt+ArrowUp":e=>{e.preventDefault(),P({targetIndexDelta:-1,orderedIds:_})},"Alt+ArrowDown":e=>{e.preventDefault(),P({targetIndexDelta:1,orderedIds:_})}}:void 0),[S,_])),(0,a.vJ)((()=>{if(S&&!$&&_&&d.lE)return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)};function e(e){if((d.MP&&e.metaKey||!d.MP&&e.ctrlKey)&&e.code.startsWith("Digit")){const[,t]=e.code.match(/Digit(\d)/)||[];if(!t||J.has(t))return;const n=W&&w&&!w.isMinimized,a=n?-1:0,r=Number(t)+a-1;if(n&&-1===r)return void k?.(i.Bn.Archived);if(r>_.length-1)return;F({id:_[r],shouldReplaceHistory:!0})}}}),[w,$,S,k,F,P,_,W]);const{observe:ae}=(0,v.BL)({rootRef:B,throttleMs:200}),re=(0,p.A)((()=>{k(i.Bn.Archived),D()})),ie=(0,p.A)((()=>{K.current?K.current=!1:re()})),se=(0,h.A)((e=>{K.current?K.current=!1:F({id:e,shouldReplaceHistory:!0})}),[F],500,!0),oe=(0,p.A)((e=>{const t=e.currentTarget.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;n<t.width||a<t.y||(K.current=!0)})),ce=function(e,t,n,r){const i=(0,a.li)(null),s=(0,a.li)(!1),o=(0,a.li)(0),c=(0,a.li)(!1),l=(0,a.li)(!0),m=(0,a.li)(0),y=(0,a.li)(!1),f=(0,p.A)(((t=!1)=>{c.current||i.current&&e.current&&(i.current.style.display="block",e.current.scrollTop=1,d.Yw||t||(0,A.E)(e.current),s.current=!0,o.current=1,c.current=!0,l.current=!0)})),g=(0,p.A)((()=>{c.current&&i.current&&(i.current.style.display="none",c.current=!1)})),v=(0,p.A)((()=>{if(!e.current)return;if(s.current)return void(s.current=!1);const a=e.current.scrollTop,r=a>o.current,d=a<o.current,A=0===a,h=Date.now()-m.current;if(i.current){if(A&&!c.current)return void(0,u.dL)(f,[e.current,i.current]);(0,u.dL)(g,i.current)}d&&(l.current&&h>100||a<0&&y.current)?t?.():r&&a>0&&n?.(),o.current=a,l.current=A,m.current=Date.now(),y.current=r&&a<0})),C=(0,h.A)((a=>{if(!e.current)return;const r=e.current;r.scrollHeight>r.offsetHeight||0===a.deltaY||(a.deltaY<0?t?.():n?.())}),[e,t,n],250);return(0,a.vJ)((()=>{const t=e.current;if(t)return 0===t.scrollTop&&(0,u.RK)((()=>{f(!0)})),t.addEventListener("scroll",v,{passive:!0}),t.addEventListener("wheel",C,{passive:!0}),()=>{t.removeEventListener("scroll",v),t.removeEventListener("wheel",C)}}),[e,C]),d.pz||r?void 0:a.Ay.createElement("div",{ref:i,className:"overscroll-trigger",key:"overscroll-trigger"})}(B,(0,p.A)((()=>{O({isShown:!0,isArchived:j})})),(0,p.A)((()=>{O({isShown:!1,isArchived:j})})),$);return a.Ay.createElement(E.A,{className:(0,o.A)("chat-list custom-scroll",b&&"forum-panel-open",e),ref:B,items:ee,itemSelector:".ListItem:not(.chat-item-archive)",preloadBackwards:s.T7t,withAbsolutePositioning:!0,beforeChildren:ce,maxHeight:Y+Z+U,onLoadMore:te,onDragLeave:oe},ne&&a.Ay.createElement(H,{key:"unconfirmed",sessions:M,onHeightChange:G}),W&&a.Ay.createElement(L,{key:"archive",archiveSettings:w,onClick:re,onDragEnter:ie}),ee?.length?function(){const e=_.indexOf(ee[0]),t=(0,c.zm)(q)||0;return ee.map(((r,i)=>{const o=e+i<t,l=U+Z+(e+i)*s.yq1;return a.Ay.createElement(R.A,{key:r,teactOrderKey:o?i:(0,c.uk)(r,$),chatId:r,isPinned:o,folderId:n,isSavedDialog:$,animationType:Q(r),orderDiff:X[r],offsetTop:l,observeIntersection:ae,onDragEnter:se})}))}():!ee||ee.length||$?a.Ay.createElement(I.A,{key:"loading"}):a.Ay.createElement(z,{folderId:n,folderType:t,foldersDispatch:T,onSettingsScreenSelect:x}))}))},79882:(e,t,n)=>{n.d(t,{I:()=>r,W:()=>i});var a=n(84051);let r=function(e){return e[e.Move=0]="Move",e[e.Opacity=1]="Opacity",e[e.None=2]="None",e}({});function i(e){return(0,a.Kr)((()=>{const t=Object.values(e),n=t.filter((e=>e<0)).length,a=t.filter((e=>e>0)).length;return t=>{const i=e[t];return 0===i?r.None:i===1/0||i===-1/0||n<=a&&i<0||a<n&&i>0?r.Opacity:r.Move}}),[e])}},53188:(e,t,n)=>{n.d(t,{A:()=>D});var a=n(84051),r=n(13439),i=n(31481),s=n(66644),o=n(90709),c=n(70636),l=n(26129),d=n(87357),m=n(59776),u=n(4961),A=n(18501),h=n(79882),p=n(49746),y=n(21488),f=n(62587),g=n(59030),v=n(76023),C=n(43874),E=n(11217),I=n(38102);const S="CBda1UmC",b="BhS75ocD",N="uWo2dhui",w="g3XnC73g",M=Number(v.$),T=(0,a.ph)((({chat:e,topics:t,renderLastMessage:n,observeIntersection:i})=>{const{openThread:s}=(0,r.ko)(),c=(0,a.li)(null),l=(0,a.li)(null),m=(0,g.A)(),[A,...h]=(0,a.Kr)((()=>t?(0,o.COF)(Object.values(t),void 0,!0).slice(0,3):[]),[t]),[p,y]=(0,a.J0)(!1),[f,v]=(0,a.J0)(void 0),{handleClick:T,handleMouseDown:x}=(0,E.Q)((t=>{0===A.unreadCount||e.isForumAsMessages||(t.stopPropagation(),t.preventDefault(),s({chatId:e.id,threadId:A.id,shouldReplaceHistory:!0,noForumTopicPanel:(0,C.Ny)()}))}));return(0,a.vJ)((()=>{const e=c.current,t=l.current;if(!e||!t)return;const n=e.offsetWidth,a=t.offsetWidth;Math.abs(n-a)<M?v(Math.max(n,a)):v(void 0),y(n>a)}),[A,n]),a.Ay.createElement("div",{className:(0,d.A)("Ow6Ij9O5",p&&"U_yhhC0w",f&&"HV0wCR4O"),dir:m.isRtl?"rtl":void 0,style:f?`--overwritten-width: ${f}px`:void 0},A&&a.Ay.createElement("div",{className:S},a.Ay.createElement("div",{className:(0,d.A)("lEbV6HrI",A.unreadCount&&b),ref:l,onClick:T,onMouseDown:x},a.Ay.createElement(I.A,{topic:A,observeIntersection:i}),a.Ay.createElement("div",{className:"k3Ch25ZQ"},(0,u.A)(A.title)),!f&&p&&a.Ay.createElement("div",{className:N},a.Ay.createElement("div",{className:w}))),a.Ay.createElement("div",{className:"IkuCBmvA"},h.map((e=>a.Ay.createElement("div",{className:(0,d.A)("d0hTIVJn",e.unreadCount&&b),key:e.id},a.Ay.createElement(I.A,{topic:e,className:"oknhG11L",observeIntersection:i}),a.Ay.createElement("span",{className:"ZUj3xAjs"},(0,u.A)(e.title)))))),a.Ay.createElement("div",{className:"_m_2xcPW"})),!A&&a.Ay.createElement("div",{className:(0,d.A)(S,"L4Zk0yMN")},m("Loading")),a.Ay.createElement("div",{className:(0,d.A)("KJ16dBus",A?.unreadCount&&b),ref:c,onClick:T,onMouseDown:x},n(),!f&&!p&&a.Ay.createElement("div",{className:N},a.Ay.createElement("div",{className:w}))))}));var x=n(18276),k=n(18653),F=n(80477);const P=200;function D({chat:e,topics:t,lastMessage:n,statefulMediaContent:v,chatId:C,typingStatus:E,draft:I,actionTargetMessage:S,actionTargetUserIds:b,lastMessageTopic:N,lastMessageSender:w,actionTargetChatId:M,observeIntersection:D,animationType:L,orderDiff:R,withInterfaceAnimations:O,isTopic:B,isSavedDialog:K,isPreview:U}){const z=(0,g.A)(),G=(0,a.li)(null),j=n&&(0,o._P2)(n),H=n&&(0,l.Q)(n)?.replyToMsgId;(0,p.A)(C,j?H:void 0,S);const J=n?.content.storyData,V=v&&!v.story;(0,y.A)(V?J?.peerId:void 0,J?.id,v?.story);const $=v?.story||n,q=$&&!(0,o.fP4)($),W=q?(0,o.CIU)($):void 0,_=(0,f.A)(q?(0,o.EOe)($,"micro"):void 0),Y=Boolean(n&&(0,o.lkW)(n)),Z=(0,a.Kr)((()=>{if(!b)return;const e=(0,r.mS)().users.byId;return b.map((t=>e[t])).filter(Boolean)}),[b]),X=(0,a.hb)((()=>{if(!K&&!U&&E&&n&&E.timestamp>1e3*n.date)return a.Ay.createElement(F.A,{typingStatus:E});const t=I&&I.replyInfo?.replyToMsgId===N?.id,r=I?.replyInfo&&!I.text&&I.isLocal;if(!e?.isForum&&!K&&!U&&I&&!r&&(!B||!t))return a.Ay.createElement("p",{className:"last-message",dir:z.isRtl?"auto":"ltr"},a.Ay.createElement("span",{className:"draft"},z("Draft")),(0,A.f)({text:I.text?.text||"",entities:I.text?.entities,isSimple:!0,withTranslucentThumbs:!0}));if(!n)return;if((0,o.r$r)(n))return a.Ay.createElement("p",{className:"last-message shared-canvas-container",dir:z.isRtl?"auto":"ltr"},(0,o.Pox)(z,n));if(j)return a.Ay.createElement("p",{className:"last-message shared-canvas-container",dir:z.isRtl?"auto":"ltr"},(0,m.V)(z,n,w&&!(0,c.vj)(w)?w:void 0,w&&(0,c.vj)(w)?w:e,Z,S,M,N,{isEmbedded:!0},void 0,void 0));const i=(0,o.Q5I)(z,C,w);return a.Ay.createElement("p",{className:"last-message shared-canvas-container",dir:z.isRtl?"auto":"ltr"},i&&a.Ay.createElement(a.Ay.Fragment,null,a.Ay.createElement("span",{className:"sender-name"},(0,u.A)(i)),a.Ay.createElement("span",{className:"colon"},":")),!K&&n.forwardInfo&&a.Ay.createElement(x.A,{name:"share-filled",className:"chat-prefix-icon"}),"story"===n.replyInfo?.type&&a.Ay.createElement(x.A,{name:"story-reply",className:"chat-prefix-icon"}),function(e,t,n,r){const i=a.Ay.createElement(k.A,{message:e,noEmoji:Boolean(n),observeIntersectionForLoading:t,inChatList:!0});if(!n)return i;const s=(0,o.y2W)(e);return a.Ay.createElement("span",{className:"media-preview"},a.Ay.createElement("img",{src:n,alt:"",className:(0,d.A)("media-preview--image",r&&"round",s&&"media-preview-spoiler"),draggable:!1}),(0,o.zXI)(e)&&a.Ay.createElement(x.A,{name:"play"}),i)}(n,D,_||W,Y))}),[M,S,Z,e,C,I,j,Y,B,z,n,w,N,_,W,D,E,K,U]);return(0,a.Nf)((()=>{const e=G.current;if(O&&e){if(L===h.I.Opacity)e.style.opacity="0",(0,s.RK)((()=>{e.classList.add("animate-opacity"),e.style.opacity="1"}));else{if(L!==h.I.Move)return;e.style.transform=`translate3d(0, ${-R*i.yq1}px, 0)`,(0,s.RK)((()=>{e.classList.add("animate-transform"),e.style.transform=""}))}setTimeout((()=>{(0,s.RK)((()=>{e.classList.remove("animate-opacity","animate-transform"),e.style.opacity="",e.style.transform=""}))}),P+i.xB5)}}),[O,R,L]),{renderSubtitle:function(){return e?.isForum&&!B?a.Ay.createElement(T,{chat:e,renderLastMessage:X,observeIntersection:D,topics:t}):X()},ref:G}}},9717:(e,t,n)=>{n.d(t,{A:()=>o});var a=n(84051),r=n(87894),i=n(79882),s=n(73767);function o(e,t){const n=(0,a.Kr)((()=>{if(e)return e.reduce(((e,t,n)=>(e[t]=n,e)),{})}),[e]),o=(0,s.A)(n),c=(0,s.A)(t),l=(0,a.Kr)((()=>n&&o&&t===c?(0,r.LG)(n,((e,t)=>void 0!==o[t]?e-o[t]:-1/0)):{}),[t,n,c,o]);return{orderDiffById:l,getAnimationType:(0,i.W)(l)}}},75373:(e,t,n)=>{n.d(t,{A:()=>ae});var a=n(84051),r=n(13439),i=n(90709),s=n(26129),o=n(29807),c=n(87357),l=n(14242),d=n(66833),m=n(59776),u=n(4961),A=n(18501),h=n(54464),p=n(10722),y=n(49746),f=n(37661),g=n(5912),v=n(39351),C=n(59030),E=n(14622),I=n(50680),S=n(79519),b=n(79577),N=n(21849),w=n(87049),M=n(40558),T=n(85118),x=n(23174),k=n(89925),F=n(87679),P=n(17712),D=n(62587),L=n(94189),R=n(68584);const O=(0,a.ph)((({message:e,renderContent:t})=>{const{openMediaViewer:n,uploadProfilePhoto:s,showNotification:o}=(0,r.ko)(),{isOutgoing:c}=e,l=(0,C.A)(),[d,m]=(0,a.J0)(),[u,A,h]=(0,f.A)(!1),p=e.content.action.photo,y=(0,D.A)((0,i.rIo)(p,"full")),g=(0,D.A)((0,i.Pgy)(p)),v=e.content.action.photo?.isVideo,E=(0,P.A)((()=>{o({title:l("ApplyAvatarHintTitle"),message:l("ApplyAvatarHint"),action:{action:"requestNextSettingsScreen",payload:{screen:k.VS.Main}},actionText:l("Open")})})),I=(0,P.A)((e=>{m(void 0),s({file:e}),E()})),S=(0,P.A)((()=>{m(void 0)})),b=(0,P.A)((async()=>{if(!g)return;h(),E();const e=await(0,F.sZ)(g);s({file:new File([e],"avatar.mp4"),isVideo:!0,videoTs:p.videoSizes?.find((e=>void 0!==e.videoStartTs))?.videoStartTs})}));return a.Ay.createElement("span",{className:"action-message-suggested-avatar",tabIndex:0,role:"button",onClick:async()=>{!c&&y?v?A():m(await(0,F.sZ)(y)):n({chatId:e.chatId,messageId:e.id,threadId:x.l3,origin:k.TQ.SuggestedAvatar})}},a.Ay.createElement(N.A,{photo:e.content.action.photo,loopIndefinitely:!0,withVideo:v,size:"jumbo"}),a.Ay.createElement("span",null,t()),a.Ay.createElement("span",{className:"action-message-button"},l(v?"ViewVideoAction":"ViewPhotoAction")),a.Ay.createElement(R.A,{file:d,onClose:S,onChange:I}),a.Ay.createElement(L.A,{isOpen:u,title:l("SuggestedVideo"),confirmHandler:b,onClose:h,textParts:t()}))})),B=(0,a.ph)((({message:e,renderContent:t})=>{const{openMediaViewer:n}=(0,r.ko)(),i=(0,C.A)();return a.Ay.createElement(a.Ay.Fragment,null,a.Ay.createElement("span",null,t()),a.Ay.createElement("span",{className:"action-message-updated-avatar",tabIndex:0,role:"button",onClick:()=>{n({chatId:e.chatId,messageId:e.id,threadId:x.l3,origin:k.TQ.SuggestedAvatar})},"aria-label":i("ViewPhotoAction")},a.Ay.createElement(N.A,{photo:e.content.action.photo,loopIndefinitely:!0,withVideo:!0,size:"jumbo"})))}));var K=n(19381),U=n(43581),z=n(14737),G=n(48894);var j=n(36838),H=n(18276),J=n(64493),V=n(55158);const $="d8axZxyN",q="glDpC2av",W="gqCs9fSo",_="gnYhwnvf",Y="HWgwnKui",Z="BTNQ4KBH",X="Xl9MVMTn",Q="Qizai7yv";function ee({channel:e}){const{openChat:t}=(0,r.ko)(),n=function(e,t="#00000000"){const[n,r]=(0,a.J0)(t),s=(0,D.A)((0,i.cP1)(e),!1,x.qZ.BlobUrl);return(0,a.vJ)((()=>{(async()=>{if(!s)return;const e=await(0,G.rX)(s);r(`#${(0,G.v2)(e)}`)})()}),[s]),n}(e,"#3C3C4399");return a.Ay.createElement("div",{className:q,onClick:()=>t({id:e.id})},a.Ay.createElement(N.A,{className:W,key:e.id,size:"large",peer:e}),a.Ay.createElement("div",{style:`background: ${n}`,className:_},a.Ay.createElement(H.A,{name:"user-filled",className:$}),a.Ay.createElement("span",{className:Y},(0,l.Vw)(e?.membersCount||0))),a.Ay.createElement("span",{className:Z},e.title))}function te({channel:e,chatId:t,channelsCount:n,isCurrentUserPremium:i}){const{openPremiumModal:s,openChatWithInfo:o}=(0,r.ko)(),l=(0,C.A)();return a.Ay.createElement("div",{className:(0,c.A)(q,"MBChXyXk"),onClick:()=>{i?o({id:t,shouldReplaceHistory:!0,profileTab:"similarChannels",forceScrollProfileTab:!0}):s()}},a.Ay.createElement(N.A,{className:W,key:e.id,size:"large",peer:e}),a.Ay.createElement("div",{className:X},a.Ay.createElement("div",{className:Q})),a.Ay.createElement("div",{className:(0,c.A)(X,"JxSmtOFi")},a.Ay.createElement("div",{className:Q})),a.Ay.createElement("div",{className:_},a.Ay.createElement("span",{className:Y},`+${n}`),!i&&a.Ay.createElement(H.A,{name:"lock-badge",className:$})),a.Ay.createElement("span",{className:Z},l("MoreSimilar")))}const ne=(0,a.ph)((0,r.EK)(((e,{chatId:t})=>{const{similarChannelIds:n,shouldShowInChat:a,count:r}=(0,o.dg4)(e,t)||{};return{similarChannelIds:n,shouldShowInChat:a,count:r,isCurrentUserPremium:(0,o.g29)(e)}}))((({chatId:e,similarChannelIds:t,shouldShowInChat:n,count:i,isCurrentUserPremium:s})=>{const l=(0,C.A)(),{toggleChannelRecommendations:d,loadChannelRecommendations:m}=(0,r.ko)(),[u,A,h]=(0,f.A)(!1),[p,y,g]=(0,f.A)(!1),v=(0,a.li)(null),E=(0,a.Kr)((()=>{if(!t)return;const e=(0,r.mS)();return t.map((t=>(0,o.hds)(e,t))).filter(Boolean)}),[t]),[I,S]=(0,a.J0)(!t),b=(0,a.Kr)((()=>E?.slice(0,10)),[E]),N=Boolean(b?.length);(0,j.A)(v,!N||!n||I,!0);const w=Boolean(!I&&(n||p||u)&&N);(0,a.vJ)((()=>{t||m({chatId:e})}),[e,t]),(0,z.A)((()=>S(!1)),2e3),(0,a.vJ)((()=>{if(I&&E&&n){const e=setTimeout((()=>{S(!1)}),300);return()=>clearTimeout(e)}}),[E,n,I]);const M=(0,P.A)((()=>{d({chatId:e}),n?(h(),y()):(A(),g())}));return a.Ay.createElement("div",{className:(0,c.A)("V3RHiOJR")},a.Ay.createElement("div",{className:"join-text"},a.Ay.createElement("span",{className:(0,c.A)(N&&"UHAMd4fI"),onClick:N?M:void 0},l("ChannelJoined"))),I&&a.Ay.createElement(V.A,{className:"xKVZv7KE"}),w&&a.Ay.createElement("div",{className:(0,c.A)(u&&"eb8rX09E",p&&"XR6_qLCc")},a.Ay.createElement("div",{className:"tfG_BSDt"},a.Ay.createElement("svg",{width:"19",height:"7",viewBox:"0 0 19 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a.Ay.createElement("path",{className:"HVbeGv4t","fill-rule":"evenodd","clip-rule":"evenodd",d:"M19 7C16.8992 7 13.59 3.88897 11.5003 1.67424C10.7648 0.894688 10.397 0.50491 10.0434 0.385149C9.70568 0.270811 9.4225 0.270474 9.08456 0.38401C8.73059 0.50293 8.36133 0.892443 7.62279 1.67147C5.52303 3.88637 2.18302 7 0 7L19 7Z",fill:"white"}))),a.Ay.createElement("div",{className:"njAC8dR9"},a.Ay.createElement("div",{className:"s7QOi22Q"},a.Ay.createElement("span",{className:"JstcOhAN"},l("SimilarChannels")),a.Ay.createElement(J.A,{className:"meewH7t_",color:"translucent",onClick:M},a.Ay.createElement(H.A,{name:"close"}))),a.Ay.createElement("div",{ref:v,className:(0,c.A)("h4gWlNen","no-scrollbar")},b?.map(((t,n)=>9===n?a.Ay.createElement(te,{channel:t,chatId:e,channelsCount:i-10+1,isCurrentUserPremium:s}):a.Ay.createElement(ee,{channel:t})))))))}))),ae=(0,a.ph)((0,r.EK)(((e,{message:t,threadId:n})=>{const{chatId:a,senderId:r,content:i}=t,{targetUserIds:c,targetChatId:l}=i.action||{},d=(0,s.Q)(t)?.replyToMsgId,m=d?(0,o.O5q)(e,a,d):void 0,u=(0,o.SJA)(e),{patternColor:A}=e.settings.themes[u]||{},h=!!n&&(0,o.nJv)(e,t,n),{direction:p,noHighlight:y}=h&&(0,o.nTw)(e).focusedMessage||{},f=(0,o.mBe)(e,r||a),g=(0,o.hds)(e,a),v=l?(0,o.hds)(e,l):void 0,C=i.action?.months,E=(0,o.t0O)(e,C),I=i.action?.stars;return{senderUser:f,senderChat:g,targetChat:v,targetChatId:l,targetUserIds:c,targetMessage:m,isFocused:h,premiumGiftSticker:E,starsGiftSticker:(0,o.WLj)(e,I),topic:(0,o.nkm)(e,t),patternColor:A,canPlayAnimatedEmojis:(0,o.BWX)(e),...h&&{focusDirection:p,noFocusHighlight:y},isCurrentUserPremium:(0,o.g29)(e),currentUserId:e.currentUserId}}))((({message:e,threadId:t,isEmbedded:n,appearanceOrder:s=0,isJustAdded:x,isLastInList:k,senderUser:F,senderChat:P,targetUserIds:D,targetMessage:L,targetChatId:R,targetChat:z,isFocused:G,focusDirection:j,noFocusHighlight:H,premiumGiftSticker:J,starsGiftSticker:V,isInsideTopic:$,topic:q,memoFirstUnreadIdRef:W,canPlayAnimatedEmojis:_,patternColor:Y,observeIntersectionForReading:Z,observeIntersectionForLoading:X,observeIntersectionForPlaying:Q,onIntersectPinnedMessage:ee,currentUserId:te,isCurrentUserPremium:ae})=>{const{openPremiumModal:re,requestConfetti:ie,checkGiftCode:se,getReceipt:oe,openGiftInfoModalFromMessage:ce,openPrizeStarsTransactionFromGiveaway:le}=(0,r.ko)(),de=(0,C.A)(),me=(0,v.A)(),ue=(0,a.li)(null);(0,g.mv)(ue,Z),(0,y.A)(e.chatId,"message"===e.replyInfo?.type?e.replyInfo.replyToMsgId:void 0,L),(0,S.A)({elementRef:ue,chatId:e.chatId,isFocused:G,focusDirection:j,noFocusHighlight:H,isJustAdded:x}),(0,a._W)((()=>{e.isPinned&&ee?.({viewportPinnedIdsToRemove:[e.id]})}));const Ae=s<=0,[he,pe]=(0,f.A)(Ae),ye="giftPremium"===e.content.action?.type,fe="giftCode"===e.content.action?.type,ge="suggestProfilePhoto"===e.content.action?.type&&e.content.action.photo,ve="updateProfilePhoto"===e.content.action?.type&&e.content.action.photo,Ce=(0,i.CVz)(e),Ee="giftStars"===e.content.action?.type,Ie="starGift"===e.content.action?.type,Se="starGiftUnique"===e.content.action?.type,be="prizeStars"===e.content.action?.type,Ne=Boolean(e.areReactionsPossible&&e?.reactions);(0,E.A)(ue,k),(0,a.vJ)((()=>{Ae||setTimeout(pe,10*s)}),[s,pe,Ae]);const we=(0,g.Vz)(ue,Q),Me=(0,a.li)((()=>{const t=W?.current&&e.id>=W.current;return ye&&!e.isOutgoing&&t})());(0,a.vJ)((()=>{we&&Me.current&&(Me.current=!1,ie({withStars:!0}))}),[we,ie]);const{transitionClassNames:Te}=(0,I.A)(he,void 0,Ae,!1),xe=(0,r.mS)().users.byId,ke=(0,a.Kr)((()=>D?D.map((e=>xe?.[e])).filter(Boolean):void 0),[D,xe]),Fe=(0,a.hb)((()=>(0,m.V)(de,e,F,P,ke,L,R,q,{isEmbedded:n},X,Q)),[n,e,X,Q,de,P,F,R,L,ke,q]),{isContextMenuOpen:Pe,contextMenuAnchor:De,handleBeforeContextMenu:Le,handleContextMenu:Re,handleContextMenuClose:Oe,handleContextMenuHide:Be}=(0,p.A)(ue),Ke=void 0!==De,Ue=()=>{const t=e.content.action?.starGift;t&&ce({chatId:e.chatId,messageId:e.id})},ze=()=>{re({isGift:!0,fromUserId:F?.id,toUserId:D?.[0],monthsAmount:e.content.action?.months||0})},Ge=()=>{le({chatId:e.chatId,messageId:e.id})},je=()=>{const t=e.content.action?.slug;t&&se({slug:t,message:{chatId:e.chatId,messageId:e.id}})};if($&&"TopicWasCreatedAction"===e.content.action?.text)return a.Ay.createElement("span",{ref:ue});if(n)return a.Ay.createElement("span",{ref:ue,className:"embedded-action-message"},Fe());function He(){const t=e.content.action?.starGift;if(!t)return;const{fromId:n,peerId:s}=t,c=n?(0,o.PVB)((0,r.mS)(),n):void 0,l=s?(0,o.PVB)((0,r.mS)(),s):"starGiftUnique"!==t.type||e.isOutgoing?void 0:z;return l&&l.id!==te?a.Ay.createElement("div",{className:"action-message-user-caption"},a.Ay.createElement("span",null," ",me("GiftTo")," "),"starGift"===t.type&&a.Ay.createElement(N.A,{className:"action-message-user-avatar",size:"micro",peer:l}),a.Ay.createElement("span",null," ",(0,i.F9N)(me,l)," ")):a.Ay.createElement("div",{className:"action-message-user-caption"},a.Ay.createElement("span",null," ",me("GiftFrom")," "),"starGift"===t.type&&a.Ay.createElement(N.A,{className:"action-message-user-avatar",size:"micro",peer:c||F}),a.Ay.createElement("span",null," ",(0,i.F9N)(me,c||F)," "))}const Je=(0,c.A)("ActionMessage message-list-item",G&&!H&&"focused",(ye||ge||ve)&&"centered-action",Ke&&"has-menu-open",k&&"last-in-list",Te);return a.Ay.createElement("div",{ref:ue,id:(0,i.GZP)(e.id),className:Je,"data-message-id":e.id,"data-is-pinned":e.isPinned||void 0,onMouseDown:e=>{(0,h.l)(e),Le(e)},onContextMenu:Re},!ge&&!fe&&!Ce&&!ve&&a.Ay.createElement("span",{className:"action-message-content",onClick:()=>{"receipt"===e.content.action?.type&&oe({chatId:e.chatId,messageId:e.id})}},Fe()),ye&&function(){const t=e.content.action?.message;return a.Ay.createElement("span",{className:"action-message-gift",tabIndex:0,role:"button",onClick:ze},a.Ay.createElement(b.A,{key:e.id,sticker:J,play:_,noLoop:!0,nonInteractive:!0}),a.Ay.createElement("strong",null,de("ActionGiftPremiumTitle")),a.Ay.createElement("span",null,de("ActionGiftPremiumSubtitle",de("Months",e.content.action?.months,"i"))),t&&a.Ay.createElement("div",{className:"action-message-gift-subtitle"},(0,A.f)({text:t.text,entities:t.entities})),a.Ay.createElement("span",{className:"action-message-button"},a.Ay.createElement(T.A,{preset:"button"}),de("ActionGiftPremiumView")))}(),fe&&function(){const t=e.content.action?.isGiveaway,n=e.content.action?.isUnclaimed,r=e.content.action?.message;return a.Ay.createElement("span",{className:"action-message-gift action-message-centered",tabIndex:0,role:"button",onClick:je},a.Ay.createElement(b.A,{key:e.id,sticker:J,play:_,noLoop:!0,nonInteractive:!0}),a.Ay.createElement("strong",null,de(n?"BoostingUnclaimedPrize":"BoostingCongratulations")),a.Ay.createElement("span",{className:"action-message-subtitle"},z&&(0,u.A)(de(t?"BoostingReceivedGiftFrom":n?"BoostingReceivedPrizeFrom":"BoostingYouHaveUnclaimedPrize",(0,i.JsG)(de,z)),["simple_markdown"])),a.Ay.createElement("span",{className:"action-message-subtitle"},(0,u.A)(de("BoostingUnclaimedPrizeDuration",de("Months",e.content.action?.months,"i")),["simple_markdown"])),r&&a.Ay.createElement("div",{className:"action-message-gift-subtitle"},(0,A.f)({text:r.text,entities:r.entities})),a.Ay.createElement("span",{className:"action-message-button"},de("BoostingReceivedGiftOpenBtn")))}(),Ee&&a.Ay.createElement("span",{className:"action-message-gift action-message-centered",tabIndex:0,role:"button",onClick:Ue},a.Ay.createElement(b.A,{key:e.id,sticker:V,play:_,noLoop:!0,nonInteractive:!0}),a.Ay.createElement("div",{className:"action-message-stars-balance"},(0,l.Sm)(e.content.action.stars),a.Ay.createElement("strong",null,de("Stars"))),a.Ay.createElement("span",{className:"action-message-stars-subtitle"},(0,u.A)(de(e.isOutgoing?"ActionGiftStarsSubtitle":"ActionGiftStarsSubtitleYou",(0,i.JsG)(de,z)),["simple_markdown"])),a.Ay.createElement("span",{className:"action-message-button"},a.Ay.createElement(T.A,{preset:"button"}),de("ActionGiftPremiumView"))),Ie&&function(){const t=e.content.action?.starGift;if(t&&"starGift"===t.gift.type)return a.Ay.createElement("span",{className:"action-message-gift action-message-centered",tabIndex:0,role:"button",onClick:Ue},a.Ay.createElement(b.A,{sticker:t.gift.sticker,play:_,noLoop:!0,nonInteractive:!0,size:120}),He(),a.Ay.createElement("div",{className:"action-message-gift-subtitle"},function(){const t=e.content.action?.starGift,n=z&&(0,i.F9N)(me,z),a=t?.message;if(!t)return;if(a)return(0,A.f)({text:a.text,entities:a.entities});const r=t?.starsToConvert;if(t.isSaved)return me(t.savedId?"ActionStarGiftChannelDisplaying":"ActionStarGiftDisplaying");if(t.isUpgraded)return me("ActionStarGiftUpgraded");if(e.isOutgoing){if(r)return me("ActionStarGiftPeerOutDescription",{peer:n||"Someone",count:r},{withNodes:!0,pluralValue:r});if(t.canUpgrade)return me("ActionStarGiftPeerOutDescriptionUpgrade",{peer:n||"Someone"})}return t.isConverted?e.isOutgoing?me("GiftInfoPeerDescriptionOutConverted",{amount:(0,l.Sm)(r),peer:n||"Chat"},{pluralValue:r,withNodes:!0,withMarkdown:!0}):me("GiftInfoDescriptionConverted",{amount:(0,l.Sm)(r)},{pluralValue:r,withNodes:!0,withMarkdown:!0}):r?me("ActionStarGiftDescription2",{count:r},{withNodes:!0,pluralValue:r}):t.canUpgrade?me("ActionStarGiftDescriptionUpgrade"):void 0}()),a.Ay.createElement("div",{className:"action-message-button"},a.Ay.createElement(T.A,{preset:"button"}),!t.alreadyPaidUpgradeStars||e.isOutgoing&&!ke?.[0]?.isSelf?de("ActionGiftPremiumView"):me("ActionStarGiftUnpack")),t.gift.availabilityTotal&&a.Ay.createElement(w.A,{color:Y||"blue",text:de("Gift2Limited1OfRibbon",(0,l.Vw)(t.gift.availabilityTotal))}))}(),Se&&function(){const t=e.content.action?.starGift;if(!t||"starGiftUnique"!==t.gift.type)return;const n=(0,d.yQ)(t.gift),r=(0,d.uc)(t.gift),{backdrop:i,pattern:s,model:o}=r||{};if(!i||!s||!o)return;const c=[i.centerColor,i.edgeColor],l=`${i.patternColor.slice(0,7)}55`;return a.Ay.createElement("span",{className:"action-message-gift action-message-centered action-message-unique",tabIndex:0,role:"button",style:`--pattern-color: ${l}`,onClick:Ue},a.Ay.createElement("div",{className:"action-message-unique-background-wrapper"},a.Ay.createElement(M.A,{className:"action-message-unique-background",backgroundColors:c,patternColor:i.patternColor,patternIcon:s.sticker,clearBottomSector:!0})),a.Ay.createElement(b.A,{sticker:n,play:_,noLoop:!0,nonInteractive:!0,size:120}),He(),a.Ay.createElement("div",{className:"action-message-unique-title",style:`color: ${i.textColor}`},t.gift.title," #",t.gift.number),a.Ay.createElement("div",{className:"action-message-unique-properties",style:`color: ${i.textColor}`},a.Ay.createElement("div",{className:"action-message-unique-property"},de("Gift2AttributeModel")),a.Ay.createElement("div",{className:"action-message-unique-value"},o.name),a.Ay.createElement("div",{className:"action-message-unique-property"},de("Gift2AttributeBackdrop")),a.Ay.createElement("div",{className:"action-message-unique-value"},i.name),a.Ay.createElement("div",{className:"action-message-unique-property"},de("Gift2AttributeSymbol")),a.Ay.createElement("div",{className:"action-message-unique-value"},s.name)),a.Ay.createElement("div",{className:"action-message-button"},a.Ay.createElement(T.A,{preset:"button"}),de("Gift2UniqueView")),a.Ay.createElement(w.A,{color:l,text:de("ActionStarGift")}))}(),be&&function(){const t=e.content.action?.isUnclaimed;return a.Ay.createElement("span",{className:"action-message-gift action-message-centered",tabIndex:0,role:"button",onClick:Ge},a.Ay.createElement(b.A,{key:e.id,sticker:V,play:_,noLoop:!0,nonInteractive:!0}),a.Ay.createElement("strong",null,de(t?"BoostingUnclaimedPrize":"BoostingCongratulations")),a.Ay.createElement("span",{className:"action-message-subtitle"},z&&(0,u.A)(de(t?"BoostingReceivedPrizeFrom":"BoostingYouHaveUnclaimedPrize",(0,i.JsG)(de,z)),["simple_markdown"])),a.Ay.createElement("span",{className:"action-message-subtitle"},(0,u.A)(me("PrizeCredits2",{count:a.Ay.createElement("b",null,(0,l.Sm)(e.content.action?.stars))},{withNodes:!0,pluralValue:e.content.action?.stars}),["simple_markdown"])),a.Ay.createElement("span",{className:"action-message-button"},de("ActionGiftPremiumView")))}(),ge&&a.Ay.createElement(O,{message:e,renderContent:Fe}),ve&&a.Ay.createElement(B,{message:e,renderContent:Fe}),Ce&&a.Ay.createElement(ne,{chatId:R}),De&&a.Ay.createElement(K.A,{isOpen:Pe,anchor:De,message:e,messageListType:"thread",onClose:Oe,onCloseAnimationEnd:Be}),Ne&&a.Ay.createElement(U.A,{isOutside:!0,message:e,threadId:t,observeIntersection:Q,isCurrentUserPremium:ae}))})))},19381:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(84051),r=n(80089),i=n(80464);const s=e=>{const{isOpen:t}=e,n=(0,i.A)(r.ar.Extra,"ContextMenuContainer",!t);return n?a.Ay.createElement(n,e):void 0}},79519:(e,t,n)=>{n.d(t,{A:()=>m});var a=n(84051),r=n(61433),i=n(31481),s=n(66644),o=n(81954);const c=500,l=i.nxZ,d=20;function m({elementRef:e,chatId:t,isFocused:n,focusDirection:i,noFocusHighlight:m,isResizingContainer:u,isJustAdded:A,isQuote:h,scrollTargetPosition:p}){const y=(0,a.li)(!A);(0,a.Nf)((()=>{const t=y.current;if(y.current=!1,n&&e.current){const n=e.current.closest(".MessageList"),a=m,A=p||a?"end":"centerOrTop",y=()=>{const t=void 0!==i?a?c:l:void 0,m=(0,o.Ay)({container:n,element:e.current,position:A,margin:d,maxDistance:t,forceDirection:i,forceNormalContainerHeight:u,shouldReturnMutationFn:!0});if(h){const t=e.current.querySelector(".is-quote");t&&(0,s.RK)((()=>{(0,r.YM)(t,"animate")}))}return m};t?(0,s.gm)(y):(0,s.YS)((()=>{(0,s.RK)(y())}))}}),[e,t,n,i,m,u,h,p])}},43581:(e,t,n)=>{n.d(t,{A:()=>z});var a=n(84051),r=n(13439),i=n(90709),s=n(29807),o=n(87357),c=n(60343),l=n(15283),d=n(17712),m=n(59030),u=n(14242),A=n(76023),h=n(63527),p=n(10722),y=n(82117),f=n(29886),g=n(21511),v=n(68292),C=n(26875),E=n(82393),I=n(71851),S=n(5912),b=n(4438),N=n(9267),w=n(93879);const M=1.5*A.$,T=6.5*A.$,x=E.pz||E.Ni?2:5,k=E.pz||E.Ni?2:3,F=(0,a.ph)((0,r.EK)(((e,{containerId:t})=>{const{activeReactions:n}=(0,s.nTw)(e),a=(0,s.xYJ)(e,"reactionEffects");return{activeReactions:n?.[t],withEffects:a}}))((({containerId:e,reaction:t,className:n,size:s=M,effectSize:c=T,activeReactions:l,localAmount:m,withEffects:u,observeIntersection:A})=>{const{stopActiveReaction:h}=(0,r.ko)(),p=(0,a.li)(null),f=(0,a.li)(null),[v,C]=(0,a.J0)([]),E=(0,S.Vz)(p,A),F=(0,a.Kr)((()=>l?.find((e=>(0,i.a0K)(e,t)))),[l,t]),P=Boolean(u&&F),D=v.length<x;(0,y.A)((([e])=>{P?!m||m<=(e||0)||D&&C((e=>[...e,Date.now()])):C([])}),[m,D,P]);const{shouldRender:L}=(0,g.A)({ref:f,noMountTransition:!0,isOpen:P,className:"slow",withShouldRender:!0}),R=(0,d.A)((()=>{const n=v.slice(1);C(n),n.length||h({containerId:e,reaction:t})})),O=(0,o.A)(w.A.root,L&&w.A.animating,n);return a.Ay.createElement("div",{className:O,ref:p,teactFastList:!0},a.Ay.createElement(N.A,{key:"icon",type:"gold",size:"adaptive",style:`width: ${s}px; height: ${s}px`}),L&&v.map((e=>a.Ay.createElement(b.A,{key:e,ref:f,className:w.A.effect,size:c,tgsUrl:I.w.StarReactionEffect,play:E,noLoop:!0,forceAlways:!0,nonInteractive:!0,quality:k,onEnded:R}))))})));var P=n(11241),D=n(85118),L=n(64493),R=n(69988);const O=1.25*A.$;function B(e){return e.stars}const K=(0,a.ph)((({reaction:e,containerId:t,isOwnMessage:n,recentReactors:s,className:c,chosenClassName:l,chatId:m,messageId:A,observeIntersection:E,onClick:I,onPaidClick:S})=>{const{openStarsBalanceModal:b,resetLocalPaidReactions:N,openPaidReactionModal:w,requestWave:M}=(0,r.ko)(),T=(0,a.li)(null),x=(0,a.li)(null),k=(0,a.li)(),K="paid"===e.reaction.type,U=(0,h.A)(B),z=Boolean(U),G=(0,d.A)(((e=1)=>{S?.(e)})),j=(0,d.A)((t=>{if("paid"===e.reaction.type)return t.stopPropagation(),void G();I?.(e.reaction)})),{isContextMenuOpen:H,handleBeforeContextMenu:J,handleContextMenu:V,handleContextMenuClose:$,handleContextMenuHide:q}=(0,p.A)(T,"paid"!==e.reaction.type,void 0,void 0,void 0,!0);(0,a.vJ)((()=>{H&&(w({chatId:m,messageId:A}),$(),q())}),[$,q,H,m,A]),(0,y.A)((([t])=>{const n=e.localAmount,a=T.current;if(!n||!a||n===t?.localAmount)return;if(z&&n>U.balance.amount)return b({originReaction:{chatId:m,messageId:A,amount:n}}),void N({chatId:m,messageId:A});if(e.localAmount){const{left:e,top:t}=a.getBoundingClientRect(),n=e+a.offsetWidth/2,r=t+a.offsetHeight/2;M({startX:n,startY:r})}const r=Number(getComputedStyle(a).scale)||1;k.current?.cancel(),k.current=a.animate([{scale:r},{scale:Math.min(1.2*r,3),offset:.2},{scale:1}],{duration:500*r,easing:"ease-out"})}),[e,U?.balance,z,m,A]);const W=(0,f.A)(e.localAmount),{shouldRender:_}=(0,g.A)({isOpen:Boolean(e.localAmount),ref:x,className:"slow",withShouldRender:!0});return a.Ay.createElement(L.A,{className:(0,o.A)(R.A.root,n&&R.A.own,K&&R.A.paid,(0,i.eu8)(e)&&R.A.chosen,(0,i.eu8)(e)&&l,c),size:"tiny",ref:T,onMouseDown:J,onContextMenu:V,onClick:j},"paid"===e.reaction.type?a.Ay.createElement(a.Ay.Fragment,null,a.Ay.createElement(D.A,{preset:"button"}),a.Ay.createElement(F,{className:R.A.animatedEmoji,containerId:t,reaction:e.reaction,size:O,localAmount:e.localAmount,observeIntersection:E}),_&&a.Ay.createElement(v.A,{ref:x,text:`+${(0,u.Vw)(e.localAmount||W)}`,className:R.A.paidCounter})):a.Ay.createElement(P.A,{className:R.A.animatedEmoji,containerId:t,reaction:e.reaction,size:O,observeIntersection:E}),s?.length?a.Ay.createElement(C.A,{size:"mini",peers:s}):a.Ay.createElement(v.A,{text:(0,u.Vw)(e.count+(e.localAmount||0)),className:R.A.counter}))}));var U=n(92915);const z=(0,a.ph)((({message:e,threadId:t,isOutside:n,maxWidth:u,metaChildren:A,observeIntersection:h,noRecentReactors:p,isCurrentUserPremium:y,tags:f})=>{const{toggleReaction:g,addLocalPaidReaction:v,updateMiddleSearch:C,performMiddleSearch:E,openPremiumModal:I,resetLocalPaidReactions:S,showNotification:b}=(0,r.ko)(),N=(0,m.A)(),{results:w,areTags:M,recentReactions:T}=e.reactions,x=Boolean(e.areReactionsPossible&&e.reactions),k=(0,a.Kr)((()=>w.reduce(((e,t)=>e+t.count),0)),[w]),F=(0,a.Kr)((()=>{const e=(0,r.mS)();return T?.reduce(((t,n)=>{const{reaction:a,peerId:r}=n,o=(0,i.Jjj)(a),c=(0,s.PVB)(e,r);if(!c)return t;const l=t[o]||[];return l.push(c),t[o]=l,t}),{})}),[T]),P=(0,a.Kr)((()=>{const t=(0,c.bj)(e);return w.map((e=>{const n=(0,i.Jjj)(e.reaction),a=F?.[n],r=k>3||p,s=M?f?.[n]:void 0;return{reaction:e,reactionKey:n,messageKey:t,recentReactors:r?void 0:a,isChosen:(0,i.eu8)(e),tag:s}}))}),[e,p,F,w,M,f,k]),D=(0,d.A)((n=>{if(M)return y?(C({chatId:e.chatId,threadId:t,update:{savedTag:n}}),void E({chatId:e.chatId,threadId:t})):void I({initialSection:"saved_tags"});g({chatId:e.chatId,messageId:e.id,reaction:n})})),L=(0,a.Kr)((()=>w.find((e=>"paid"===e.reaction.type))?.localAmount||0),[w]),R=(0,d.A)((t=>{v({chatId:e.chatId,messageId:e.id,count:t})}));(0,a.vJ)((()=>{L&&b({localId:(0,c.bj)(e),title:N("StarsSentTitle"),message:N("StarsSentText",L),actionText:N("StarsSentUndo"),cacheBreaker:L.toString(),action:{action:"resetLocalPaidReactions",payload:{chatId:e.chatId,messageId:e.id}},dismissAction:{action:"sendPaidReaction",payload:{chatId:e.chatId,messageId:e.id}},duration:5e3,shouldShowTimer:!0,disableClickDismiss:!0,icon:"star"})}),[N,e,L]);const O=(0,d.A)((t=>{g({chatId:e.chatId,messageId:e.id,reaction:t})}));return(0,l.A)((()=>()=>{S({chatId:e.chatId,messageId:e.id})})),a.Ay.createElement("div",{className:(0,o.A)("Reactions",n&&"is-outside",x&&"is-service"),style:u?`max-width: ${u}px`:void 0,dir:N.isRtl?"rtl":"ltr"},P.map((({reaction:t,recentReactors:n,messageKey:r,reactionKey:i,isChosen:s,tag:o})=>M?a.Ay.createElement(U.A,{key:i,className:"message-reaction",chosenClassName:"chosen",containerId:r,isOwnMessage:e.isOutgoing,isChosen:s,reaction:t.reaction,tag:o,withContextMenu:y,onClick:D,onRemove:O,observeIntersection:h}):a.Ay.createElement(K,{key:i,chatId:e.chatId,messageId:e.id,className:"message-reaction",chosenClassName:"chosen",containerId:r,isOwnMessage:e.isOutgoing,recentReactors:n,reaction:t,onClick:D,onPaidClick:R,observeIntersection:h}))),A)}))},92915:(e,t,n)=>{n.d(t,{A:()=>C});var a=n(84051),r=n(13439),i=n(87357),s=n(76023),o=n(10722),c=n(37661),l=n(17712),d=n(59030),m=n(11241),u=n(64493),A=n(40664),h=n(8410);const p=(0,a.ph)((({isOpen:e,title:t,subtitle:n,placeholder:r,submitText:i,maxLength:s,initialValue:o="",onClose:c,onSubmit:m})=>{const p=(0,d.A)(),[y,f]=(0,a.J0)(o),g=(0,l.A)((e=>{f(e.target.value)})),v=(0,l.A)((()=>{m(y)}));return a.Ay.createElement(h.A,{className:"narrow",title:t,isOpen:e,onClose:c,isSlim:!0},Boolean(n)&&a.Ay.createElement("div",{className:"cGrbcqD_"},n),a.Ay.createElement(A.A,{placeholder:r,value:y,onChange:g,maxLength:s,teactExperimentControlled:!0}),a.Ay.createElement("div",{className:"dialog-buttons mt-2"},a.Ay.createElement(u.A,{className:"confirm-dialog-button",onClick:v},i||p("Save")),a.Ay.createElement(u.A,{className:"confirm-dialog-button",isText:!0,onClick:c},p("Cancel"))))}));var y=n(71429),f=n(24433),g=n(69988);const v=1.25*s.$,C=(0,a.ph)((({reaction:e,tag:t,containerId:n,isChosen:s,isOwnMessage:A,className:h,chosenClassName:C,withCount:E,isDisabled:I,withContextMenu:S,observeIntersection:b,onClick:N,onRemove:w})=>{const{editSavedReactionTag:M}=(0,r.ko)(),T=(0,a.li)(null),x=(0,a.li)(null),k=(0,d.A)(),[F,P,D]=(0,c.A)(),{title:L,count:R}=t||{},O=Boolean(L||E&&R),B=(0,l.A)((()=>{N?.(e)})),K=(0,l.A)((()=>{w?.(e)})),U=(0,l.A)((t=>{M({reaction:e,title:t}),D()})),{isContextMenuOpen:z,contextMenuAnchor:G,handleBeforeContextMenu:j,handleContextMenu:H,handleContextMenuClose:J,handleContextMenuHide:V}=(0,o.A)(T,!S,void 0,void 0,void 0,!0),$=(0,l.A)((()=>T.current)),q=(0,l.A)((()=>document.body)),W=(0,l.A)((()=>x.current)),_=(0,l.A)((()=>({withPortal:!0,shouldAvoidNegativePosition:!0})));if(!E||0!==R)return a.Ay.createElement(u.A,{className:(0,i.A)(g.A.root,g.A.tag,A&&g.A.own,s&&g.A.chosen,s&&C,I&&g.A.disabled,h),size:"tiny",onClick:B,onMouseDown:j,onContextMenu:H,ref:T},a.Ay.createElement(m.A,{className:g.A.animatedEmoji,containerId:n,reaction:e,loopLimit:1,size:v,observeIntersection:b}),O&&a.Ay.createElement("span",{className:g.A.tagText},L&&a.Ay.createElement("span",null,L),E&&a.Ay.createElement("span",null,R)),a.Ay.createElement("svg",{className:g.A.tail,width:"15",height:"30",viewBox:"0 0 15 30"},a.Ay.createElement("path",{className:g.A.tailFill,d:"m 0,30 c 3.1855,0 6.1803,-1.5176 8.0641,-4.0864 l 5.835,-7.9568 c 1.2906,-1.7599 1.2906,-4.1537 0,-5.9136 L 8.0641,4.08636 C 6.1803,1.51761 3.1855,0 0,0"})),S&&a.Ay.createElement(p,{isOpen:F,maxLength:15,title:k(t?.title?"SavedTagRenameTag":"SavedTagLabelTag"),subtitle:k("SavedTagLabelTagText"),placeholder:k("SavedTagLabelPlaceholder"),initialValue:t?.title,onClose:D,onSubmit:U}),S&&G&&a.Ay.createElement(y.A,{ref:x,isOpen:z,anchor:G,getTriggerElement:$,getRootElement:q,getMenuElement:W,getLayout:_,autoClose:!0,withPortal:!0,onClose:J,onCloseAnimationEnd:V},a.Ay.createElement(f.A,{icon:"tag-filter",onClick:B},k("SavedTagFilterByTag")),a.Ay.createElement(f.A,{icon:"tag-name",onClick:P},k(t?.title?"SavedTagRenameTag":"SavedTagLabelTag")),a.Ay.createElement(f.A,{icon:"tag-crossed",destructive:!0,onClick:K},k("SavedTagRemoveTag"))))}))},86046:(e,t,n)=>{n.d(t,{D5:()=>m,HT:()=>s,M6:()=>d,Pc:()=>o,ZF:()=>l,hk:()=>c,j6:()=>u,jA:()=>i});var a=n(5930),r=n(29807);function i(e,t){if("slug"===t.type)return t;if("stargift"===t.type){const{peerId:n,shouldHideName:a,giftId:i,message:s,shouldUpgrade:o}=t,c=(0,r.PVB)(e,n);if(!c)return;return{type:"stargift",peer:c,shouldHideName:a,giftId:i,message:s,shouldUpgrade:o}}if("starsgift"===t.type){const{userId:n,stars:a,amount:i,currency:s}=t,o=(0,r.mBe)(e,n);if(!o)return;return{type:"stars",purpose:{type:"starsgift",user:o,stars:a,amount:i,currency:s}}}if("stars"===t.type){const{stars:e,amount:n,currency:a}=t;return{type:"stars",purpose:{type:"stars",stars:e,amount:n,currency:a}}}if("chatInviteSubscription"===t.type){const{hash:e}=t;return{type:"chatInviteSubscription",hash:e}}if("message"===t.type){const n=(0,r.hds)(e,t.chatId);if(!n)return;return{type:"message",chat:n,messageId:t.messageId}}if("giftcode"===t.type){const{userIds:n,boostChannelId:a,amount:i,currency:s,option:o,message:c}=t;return{type:"giveaway",option:o,purpose:{type:"giftcode",amount:i,currency:s,users:n.map((t=>(0,r.mBe)(e,t))).filter(Boolean),boostChannel:a?(0,r.hds)(e,a):void 0,message:c}}}if("starsgiveaway"===t.type){const{chatId:n,additionalChannelIds:a,amount:i,currency:s,untilDate:o,areWinnersVisible:c,countries:l,isOnlyForNewSubscribers:d,prizeDescription:m,stars:u,users:A}=t,h=(0,r.hds)(e,n);if(!h)return;const p=a?.map((t=>(0,r.hds)(e,t))).filter(Boolean);return{type:"starsgiveaway",purpose:{type:"starsgiveaway",amount:i,currency:s,chat:h,additionalChannels:p,untilDate:o,areWinnersVisible:c,countries:l,isOnlyForNewSubscribers:d,prizeDescription:m,stars:u,users:A}}}if("giveaway"===t.type){const{chatId:n,additionalChannelIds:a,amount:i,currency:s,option:o,untilDate:c,areWinnersVisible:l,countries:d,isOnlyForNewSubscribers:m,prizeDescription:u}=t,A=(0,r.hds)(e,n);if(!A)return;const h=a?.map((t=>(0,r.hds)(e,t))).filter(Boolean);return{type:"giveaway",option:o,purpose:{type:"giveaway",amount:i,currency:s,chat:A,additionalChannels:h,untilDate:c,areWinnersVisible:l,countries:d,isOnlyForNewSubscribers:m,prizeDescription:u}}}if("stargiftUpgrade"===t.type){const{inputSavedGift:n,shouldKeepOriginalDetails:a}=t,r=s(e,n);if(!r)return;return{type:"stargiftUpgrade",inputSavedGift:r,shouldKeepOriginalDetails:a}}}function s(e,t){if("user"===t.type)return t;if("chat"===t.type){const n=(0,r.hds)(e,t.chatId);if(!n)return;return{type:"chat",chat:n,savedId:t.savedId}}}function o(e){return"appStore"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.AppleTopUp.Title",subtitleKey:"Stars.Intro.Transaction.AppleTopUp.Subtitle",peerColorId:5}:"playMarket"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.GoogleTopUp.Title",subtitleKey:"Stars.Intro.Transaction.GoogleTopUp.Subtitle",peerColorId:3}:"fragment"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.FragmentTopUp.Title",subtitleKey:"Stars.Intro.Transaction.FragmentTopUp.Subtitle",customPeerAvatarColor:"#000000"}:"premiumBot"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.PremiumBotTopUp.Title",subtitleKey:"Stars.Intro.Transaction.PremiumBotTopUp.Subtitle",peerColorId:1,withPremiumGradient:!0}:"ads"===e.type?{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.TelegramAds.Title",subtitleKey:"Stars.Intro.Transaction.TelegramAds.Subtitle",peerColorId:2}:"api"===e.type?{avatarIcon:"bots",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.TelegramBotApi.Title",subtitleKey:"Stars.Intro.Transaction.TelegramBotApi.Subtitle",peerColorId:4}:{avatarIcon:"star",isCustomPeer:!0,titleKey:"Stars.Intro.Transaction.Unsupported.Title",subtitleKey:"Stars.Intro.Transaction.Unsupported.Title",peerColorId:0}}function c(e,t){const n=t.amount+t.nanos/1e9;return n<0?`- ${e.number(Math.abs(n))}`:`+ ${e.number(n)}`}function l(e,t){return e.number(t.amount+t.nanos/1e9)}function d(e){const{action:t}=e.content;if("giftStars"!==t?.type)return;const{transactionId:n,stars:a}=t;return{id:n,stars:{amount:a,nanos:0},peer:{type:"peer",id:e.isOutgoing?e.chatId:e.senderId||e.chatId},date:e.date,isGift:!0,isMyGift:e.isOutgoing||void 0}}function m(e){const{action:t}=e.content;if("prizeStars"!==t?.type)return;const{transactionId:n,stars:a,targetChatId:r}=t;return{id:n,stars:{amount:a,nanos:0},peer:{type:"peer",id:r},date:e.date,giveawayPostId:e.id}}function u(e,t){return(0,a.A)(e,t)}},70636:(e,t,n)=>{n.d(t,{cy:()=>s,mO:()=>i,vj:()=>r});var a=n(31481);function r(e){return"title"in e}function i(e){return!r(e)}function s(e){return r(e)?"chatTypeBasicGroup"===e.type||"chatTypeSuperGroup"===e.type?"ChatList.PeerTypeGroup":"chatTypeChannel"===e.type?"ChatList.PeerTypeChannel":"chatTypePrivate"===e.type?"ChatList.PeerTypeNonContact":void 0:e.id===a.zv8?"ServiceNotifications":e.isSupport?"SupportStatus":e.type&&"userTypeBot"===e.type?"ChatList.PeerTypeBot":e.isContact?"ChatList.PeerTypeContact":"ChatList.PeerTypeNonContactUser"}},23459:(e,t,n)=>{n.d(t,{A:()=>u});var a=n(84051),r=n(13439),i=n(90709),s=n(29807),o=n(37836);const c=36e5,l=new Map;let d=new Set;const m=(0,o.nF)((()=>{const e=Array.from(d),t=e.slice(0,100),n=e.slice(101);(0,r.ko)().loadStoriesMaxIds({peerIds:t}),t.forEach((e=>l.set(e,Date.now()))),d=new Set(n),d.size&&m()}),500);function u(e){const t=(0,a.Kr)((()=>{const t=(0,r.mS)();return e?.map((e=>(0,s.PVB)(t,e))).filter(Boolean)}),[e]),n=(0,a.Kr)((()=>{const e=(0,r.mS)();return t?.filter((t=>{const n=l.get(t.id)||0;if(Date.now()-n<c)return!1;if((0,i.L8L)(t.id)){const n=t,a=(0,s.K0y)(e,n.id),r=a&&"userStatusEmpty"!==a.type;return!n.isContact&&!n.isSelf&&!(0,i.tvf)(n)&&!t.isSupport&&r}{const e=t;return(0,i.WXB)(e)&&!e.isRestricted}})).map((e=>e.id))}),[t]);(0,a.vJ)((()=>{n?.length&&(n.forEach((e=>d.add(e))),m())}),[n])}},31880:(e,t,n)=>{n.d(t,{Ay:()=>y,a9:()=>d,d0:()=>h,lR:()=>A});var a=n(13439),r=n(29807),i=n(87894),s=n(42215),o=n(98221);const c=["includedChatIds","bots","channels","groups","contacts","nonContacts"],l=["excludedChatIds","excludeArchived","excludeMuted","excludeRead"];function d(e,t,n){let s=[],o=[];if("included"===t){const{includedChatIds:t,...a}=n?e.includeFilters||{}:(0,i.Up)(e.folder,c);s=t||[],o=Object.keys(a).filter((e=>Boolean(a[e])))}else{const{excludedChatIds:t,...a}=n?e.excludeFilters||{}:(0,i.Up)(e.folder,l);s=t||[],o=Object.keys(a).filter((e=>Boolean(a[e])))}const d=(0,a.mS)();return{selectedChatIds:s.filter((e=>(0,r.hds)(d,e))),selectedChatTypes:o}}function m(e){if(e){const{includedChatIds:t,...n}=e;if(Object.values(n).filter(Boolean).length>1||t?.length)return"";if(n.bots)return"Bots";if(n.groups)return"Groups";if(n.channels)return"Channels";if(n.contacts)return"Contacts";if(n.nonContacts)return"Non-Contacts"}return""}const u={mode:"create",chatFilter:"",folder:{title:{text:""},includedChatIds:[],excludedChatIds:[]}};function A(e,t){if(t?.length&&"MessageEntityCustomEmoji"===t[0].type&&0===t[0].offset)return e.slice(t[0].length+1);o.A.lastIndex=0;const n=o.A.exec(e);return n&&0===n.index?n[0]+" ":""}function h(e,t){if(t?.length&&"MessageEntityCustomEmoji"===t[0].type&&0===t[0].offset)return e.slice(t[0].length+1);o.A.lastIndex=0;const n=o.A.exec(e);return n&&0===n.index?e.slice(n[0].length+1):e}const p=(e,t)=>{switch(t.type){case"setTitle":{const n=A(e.folder.title.text,e.folder.title.entities||[]);return{...e,folder:{...e.folder,title:{...e.folder.title,text:n+t.payload}},isTouched:!0}}case"setEmoticon":{const n=h(e.folder.title.text,e.folder.title.entities||[]);return{...e,folder:{...e.folder,title:{text:n,entities:[]},emoticon:t.payload},isTouched:!0}}case"setEmoji":{const n=t.payload,a=h(e.folder.title.text,e.folder.title.entities||[]);return{...e,folder:{...e.folder,title:{text:n+" "+a,entities:[]},emoticon:""},isTouched:!0}}case"setCustomEmoji":{const n=t.payload;let a=e.folder.title.text;return e.folder.title.entities?.length&&"MessageEntityCustomEmoji"===e.folder.title.entities[0].type&&0===e.folder.title.entities[0].offset&&(a=e.folder.title.text.slice(e.folder.title.entities[0].length+1)),{...e,folder:{...e.folder,title:{text:n.emoji+" "+a,entities:[{type:"MessageEntityCustomEmoji",offset:0,length:(n.emoji||"").length,documentId:n.id}]},emoticon:""},isTouched:!0}}case"setFolderId":return{...e,folderId:t.payload,mode:"edit"};case"editIncludeFilters":return{...e,includeFilters:(0,i.Up)(e.folder,c)};case"editExcludeFilters":return{...e,excludeFilters:(0,i.Up)(e.folder,l)};case"setIncludeFilters":return{...e,includeFilters:t.payload,chatFilter:""};case"setExcludeFilters":return{...e,excludeFilters:t.payload,chatFilter:""};case"saveFilters":return e.includeFilters?{...e,folder:{...(0,i.cJ)(e.folder,c),title:e.folder.title?e.folder.title:{text:m(e.includeFilters)},...e.includeFilters},includeFilters:void 0,chatFilter:"",isTouched:!0}:e.excludeFilters?{...e,folder:{...(0,i.cJ)(e.folder,l),...e.excludeFilters},excludeFilters:void 0,chatFilter:"",isTouched:!0}:e;case"editFolder":{const{id:e,description:n,...a}=t.payload;return{mode:"edit",folderId:e,folder:a,chatFilter:""}}case"setChatFilter":return{...e,chatFilter:t.payload};case"setIsTouched":return{...e,isTouched:t.payload};case"setIsLoading":return{...e,isLoading:t.payload};case"setError":return{...e,isLoading:!1,error:t.payload};case"setIsChatlist":return{...e,folder:{...e.folder,isChatList:t.payload}};case"reset":return u;default:return e}},y=()=>(0,s.A)(p,u)},14737:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(84051),r=n(17712);const i=function(e,t){const n=(0,r.A)(e);(0,a.vJ)((()=>{if("number"!=typeof t)return;const e=setTimeout((()=>n()),t);return()=>clearTimeout(e)}),[t])}},45470:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(84051),r=n(32610),i=n(66644),s=n(82393),o=n(35297);const c=2,l=2;function d(e,t=!1,n,d=c,m,u){const A=(0,a.li)(null),h=(0,a.li)();return(0,o.A)((()=>{t||(h.current=!1)}),[e,t]),(0,a.vJ)((()=>{const a=A.current;if(!e||!a||t||h.current)return;h.current=!0;const o=new Image,c=()=>{const e=m||o.width,t=u||o.height,n=a.getContext("2d",{alpha:!1});(0,i.RK)((()=>{a.width=e,a.height=t,s.QH&&(n.filter=`blur(${d}px)`),n.drawImage(o,2*-d,2*-d,e+4*d,t+4*d),s.QH||(0,r.A)(n,0,0,e,t,d,l)}))};o.onload=()=>{n?(0,i.YS)(c):c()},o.src=e}),[e,t,u,m,d,n]),A}},47067:(e,t,n)=>{n.d(t,{A:()=>d});var a=n(84051),r=n(13439),i=n(31481),s=n(90709),o=n(87894),c=n(82393),l=n(59030);const d=({chat:e,user:t,folderId:n,isPinned:d,isMuted:m,canChangeFolder:u,isSavedDialog:A,currentUserId:h,isPreview:p,handleDelete:y,handleMute:f,handleChatFolderChange:g,handleReport:v},C=!1)=>{const E=(0,l.A)(),{isSelf:I}=t||{},S=t?.id===i.zv8,b=(0,a.Kr)((()=>{if(e)return A?E("Delete"):(0,s.L8L)(e.id)?E("DeleteChatUser"):(0,s.ICW)(e)?E("DeleteChat"):(0,s.WXB)(e)?E("LeaveChannel"):E("Group.LeaveGroup")}),[e,A,E]);return(0,a.Kr)((()=>{if(!e||p)return;const{toggleChatPinned:a,toggleSavedDialogPinned:i,updateChatMutedState:l,toggleChatArchived:N,toggleChatUnread:w,openChatInNewTab:M}=(0,r.ko)(),T=c.OS&&{title:c.cp?"Open in new window":"Open in new tab",icon:"open-in-new-tab",handler:()=>{M(A?{chatId:h,threadId:e.id}:{chatId:e.id})}},x=()=>{A?i({id:e.id}):a({id:e.id,folderId:n})},k=d?{title:E("UnpinFromTop"),icon:"unpin",handler:x}:{title:E("PinToTop"),icon:"pin",handler:x},F={title:b,icon:"delete",destructive:!0,handler:y};if(A)return(0,o.oE)([T,k,F]);const P=u?{title:E("ChatList.Filter.AddToFolder"),icon:"folder",handler:g}:void 0,D=m?{title:E("ChatList.Unmute"),icon:"unmute",handler:()=>l({chatId:e.id,isMuted:!1})}:{title:`${E("ChatList.Mute")}...`,icon:"mute",handler:f};if(C)return(0,o.oE)([T,k,P,D]);const L=e.unreadCount||e.hasUnreadMark?{title:E("MarkAsRead"),icon:"readchats",handler:()=>w({id:e.id})}:void 0,R=e.unreadCount||e.hasUnreadMark||e.isForum?void 0:{title:E("MarkAsUnread"),icon:"unread",handler:()=>w({id:e.id})},O=(0,s.TJc)(e)?{title:E("Unarchive"),icon:"unarchive",handler:()=>N({id:e.id})}:{title:E("Archive"),icon:"archive",handler:()=>N({id:e.id})},B=v&&!t&&((0,s.WXB)(e)||(0,s.YEQ)(e))?{title:E("ReportPeer.Report"),icon:"flag",handler:v}:void 0,K=void 0!==n;return(0,o.oE)([T,P,L,R,k,!I&&D,!I&&!S&&!K&&O,B,F])}),[e,t,u,E,g,d,C,m,h,y,f,v,n,I,S,A,b,p])}},49746:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(84051),r=n(13439);function i(e,t,n,i,s){const{loadMessage:o}=(0,r.ko)();(0,a.vJ)((()=>{s||t&&!n&&o({chatId:e,messageId:t,replyOriginForId:i})}),[s,e,n,t,i])}},21488:(e,t,n)=>{n.d(t,{A:()=>s});var a=n(84051),r=n(13439),i=n(37836);const s=function(e,t,n){const{loadPeerStoriesByIds:s}=(0,r.ko)(),o=(0,a.Kr)((()=>{const n=(0,i.nF)(s,200,!0);return()=>{n({peerId:e,storyIds:[t]})}}),[t,e]);(0,a.vJ)((()=>{e&&t&&(!n||!("content"in n)&&!("isDeleted"in n))&&o()}),[o,n,t,e])}},74984:(e,t,n)=>{n.d(t,{Rh:()=>s,g5:()=>c,ic:()=>o});var a=n(84051),r=n(49763),i=n(30857);function s(e){const t=(0,i.A)();return(0,a.vJ)((()=>(0,r.Yw)(e,t)),[e,t]),(0,r.YA)(e)}function o(){const e=(0,i.A)();return(0,a.vJ)((()=>(0,r.P1)(e)),[e]),(0,r.PZ)()}function c(){const e=(0,i.A)();return(0,a.vJ)((()=>(0,r.BU)(e)),[e]),(0,r.jn)()}},36838:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(84051);const r=(e,t,n=!1,r=!1)=>{(0,a.vJ)((()=>{if(t)return;const a=e.current;if(a)return a.addEventListener("wheel",i,{passive:!n}),()=>{a.removeEventListener("wheel",i)};function i(e){let t=!1;e.deltaX?t=e.deltaX<0&&0===a.scrollLeft||e.deltaX>0&&a.scrollLeft>=a.scrollWidth-a.clientWidth-1:(t=e.deltaY<0&&0===a.scrollLeft||e.deltaY>0&&a.scrollLeft>=a.scrollWidth-a.clientWidth-1,a.scrollLeft+=e.deltaY/4,n&&e.preventDefault()),r&&!t&&e.stopPropagation()}}),[e,t,n])}},2178:(e,t,n)=>{n.d(t,{v:()=>o});var a=n(84051),r=n(46536);const i=new Set(["INPUT","TEXTAREA","SELECT"]),s=(0,r.h)();function o(e){(0,a.vJ)((()=>{if(!e)return;const t=Object.entries(e);return s.addCallback((function(e){(function(e){return!(e.target instanceof HTMLElement)||!i.has(e.target.tagName)})(e)&&t.forEach((([t,n])=>{(function(e){return t=>function(e,t){const{alt:n,ctrl:a,meta:r,mod:i,shift:s,key:o}=e,{altKey:c,ctrlKey:l,metaKey:d,shiftKey:m,key:u}=t;if(n!==c)return!1;if(i){if(!l&&!d)return!1}else{if(a!==l)return!1;if(r!==d)return!1}return s===m&&Boolean(o&&(u.toLowerCase()===o.toLowerCase()||t.code.replace("Key","").toLowerCase()===o.toLowerCase()))}(function(e){const t=e.toLowerCase().split("+").map((e=>e.trim())),n={alt:t.includes("alt"),ctrl:t.includes("ctrl"),meta:t.includes("meta"),mod:t.includes("mod"),shift:t.includes("shift")},a=["alt","ctrl","meta","shift","mod"];return{...n,key:t.find((e=>!a.includes(e)))}}(e),t)})(t)(e)&&n(e)}))}))}),[e])}document.documentElement.addEventListener("keydown",s.runCallbacks)},29886:(e,t,n)=>{n.d(t,{A:()=>r});var a=n(84051);function r(e){const t=(0,a.li)(),n=(0,a.li)();return n.current!==e&&(t.current=n.current),n.current=e,t.current}},42215:(e,t,n)=>{n.d(t,{A:()=>i});var a=n(84051),r=n(30857);function i(e,t){const n=(0,r.A)(),i=(0,a.li)(e),s=(0,a.li)(t),o=(0,a.hb)((e=>(s.current=i.current(s.current,e),n(),s.current)),[]);return[s.current,o]}},14622:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(84051),r=n(13439),i=n(81954),s=n(17712),o=n(93545),c=n(672);const l=function(e,t=!1){const{focusLastMessage:n}=(0,r.ko)(),l=(0,a.li)(0),d=(0,s.A)((e=>{const t=l.current,r=e.contentRect.height;if(l.current=r,(0,i.o8)()||!t||r<=t)return;const s=e.target.closest(".MessageList");if(!s)return;(0,a.VK)(400);const o=r-t,{offsetHeight:c,scrollHeight:d,scrollTop:m}=s;Math.round(d-m-c)-o<=5&&n()})),m=(0,c.A)(d,[d],300,!1);(0,o.A)(e,m,!t)}},57446:(e,t,n)=>{n.d(t,{A:()=>l});var a=n(13439),r=n(66644),i=n(29807),s=n(19822);const o=300,c=new Map;function l(e,t,n=o){(0,i.PKK)((0,a.mS)())||(n=0);const l="rtl"===e.getAttribute("dir"),{scrollLeft:d,offsetWidth:m,scrollWidth:u,dataset:{scrollId:A}}=e;let h=t-d;if(h<0){const e=-d*(l?-1:1);h=Math.max(h,e)}else if(h>0){const e=u-(d+m);h=Math.min(h,e)}if(0===h)return Promise.resolve();A&&c.has(A)&&c.get(A)();const p=d+h;return new Promise((t=>{(0,r.RK)((()=>{if(0===n)return e.scrollLeft=p,void t();let a=!1;const i=Math.random().toString();e.dataset.scrollId=i,c.set(i,(()=>{a=!0})),e.style.scrollSnapType="none";const o=Date.now();(0,s.i0)((()=>{if(a)return!1;const r=Math.min((Date.now()-o)/n,1),s=h*(1-function(e){return 1-(1-e)**3.5}(r));return e.scrollLeft=Math.round(p-s),r>=1&&(e.style.scrollSnapType="",delete e.dataset.scrollId,c.delete(i),t()),r<1}),r.RK)}))}))}},81954:(e,t,n)=>{n.d(t,{Ay:()=>p,H$:()=>v,_v:()=>y,o8:()=>g});var a=n(84051),r=n(13439),i=n(89925),s=n(31481),o=n(66644),c=n(29807),l=n(16460),d=n(19822),m=n(82393);let u,A,h=!1;function p(e){u=e;const t=f(e);if(e.shouldReturnMutationFn)return t;(0,o.RK)(t)}function y(){h&&((0,d.vk)(),(0,o.YS)((()=>{(0,o.RK)(f(u))})))}function f(e){const{container:t,element:n,position:p,margin:y=0,maxDistance:f=s.nxZ,forceDirection:g,forceNormalContainerHeight:v}=e;let I=e.forceDuration;g!==i.CC.Static&&(0,c.PKK)((0,r.mS)())||(I=0);const{offsetHeight:S}=n,{scrollTop:b,offsetHeight:N,scrollHeight:w}=t,M=(0,l.A)(n,t).top,T=v&&t.dataset.normalHeight?Number(t.dataset.normalHeight):N;let x;switch(p){case"start":x=M-y+(m.Ni?1:0);break;case"end":x=M+S+y-T;break;case"nearest":case"center":case"centerOrTop":x=S<T?M+S/2-T/2:M-y}const k=function(e,t,n=s.nxZ,a){const{scrollTop:r}=e;if(void 0===a){const e=t-r;if(e<-n)return r+(e+n);if(e>n)return r+(e-n)}else{if(a===i.CC.Up)return t+n;if(a===i.CC.Down)return Math.max(0,t-n)}return r}(t,x,f,g);let F=x-k;if(F<0){const e=-k;F=Math.max(F,e)}else if(F>0){const e=w-(k+T);F=Math.min(F,e)}const P=Math.abs(F);return()=>{if(P<1)return void(b!==k&&(t.scrollTop=k));const e=k+F;if(0===I)return void(t.scrollTop=e);const n=P<=s.s8T?C:E,r=I||s.SKD+P/s.nxZ*(s.OzO-s.SKD),i=Date.now();h=!0;const c=A;A=(0,a.VK)(void 0,!0),c?.(),(0,d.S0)((()=>{const a=Math.min((Date.now()-i)/r,1),s=F*(1-n(a)),o=Math.round(e-s);return t.scrollTop=o,h=a<1&&o!==e,h||(u=void 0,A?.(),A=void 0),h}),o.RK)}}function g(){return h}function v(){A(),A=void 0}function C(e){return 1-(1-e)**3.5}function E(e){return 1-(1-e)**6}},48894:(e,t,n)=>{n.d(t,{Bz:()=>m,LS:()=>l,Yi:()=>d,Zf:()=>o,bM:()=>s,rX:()=>c,v2:()=>i,vG:()=>u,xp:()=>r});var a=n(87679);function r(e){return[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)]}function i(e){const t=e[0].toString(16),n=e[1].toString(16),a=e[2].toString(16);return(1==t.length?"0"+t:t)+(1==n.length?"0"+n:n)+(1==a.length?"0"+a:a)}function s([e,t,n]){e/=255,t/=255,n/=255;let a,r,i=Math.max(e,t,n),s=Math.min(e,t,n),o=i,c=i-s;if(r=0==i?0:c/i,i==s)a=0;else{switch(i){case e:a=(t-n)/c+(t<n?6:0);break;case t:a=(n-e)/c+2;break;case n:a=(e-t)/c+4}a/=6}return[a,r,o]}function o([e,t,n]){let a,r,i,s=Math.floor(6*e),o=6*e-s,c=n*(1-t),l=n*(1-o*t),d=n*(1-(1-o)*t);switch(s%6){case 0:a=n,r=d,i=c;break;case 1:a=l,r=n,i=c;break;case 2:a=c,r=n,i=d;break;case 3:a=c,r=l,i=n;break;case 4:a=d,r=c,i=n;break;case 5:a=n,r=c,i=l}return[Math.round(255*a),Math.round(255*r),Math.round(255*i)]}async function c(e){const t=[0,0,0];let n,r,i,s,o=-4,c=[0,0,0],l=0;const d=document.createElement("canvas"),m=d.getContext&&d.getContext("2d");if(!m)return t;const u=await(0,a.NN)(e);i=u.naturalHeight||u.offsetHeight||u.height,r=u.naturalWidth||u.offsetWidth||u.width,d.height=i,d.width=r,m.drawImage(u,0,0);try{n=m.getImageData(0,0,r,i)}catch(e){return t}for(s=n.data.length;(o+=20)<s;)0!==n.data[o+3]&&(++l,c[0]+=n.data[o],c[1]+=n.data[o+1],c[2]+=n.data[o+2]);return c[0]=Math.floor(c[0]/l),c[1]=Math.floor(c[1]/l),c[2]=Math.floor(c[2]/l),c}function l(e){const[t,n,a]=e;return.2126*t+.7152*n+.0722*a}function d(e){let[t,n,a]=s(e);return n=Math.min(1,n+.05+.1*(1-n)),a=a>.5?Math.max(0,.65*a):Math.max(0,Math.min(1,1-.65*a)),`hsla(${360*t}, ${100*n}%, ${100*a}%, .4)`}const m=e=>`rgba(${e>>16&255}, ${e>>8&255}, ${255&e}, ${(e>>24&255)/255})`,u=e=>l([e>>16&255,e>>8&255,255&e])>128?"black":"white"},58968:(e,t,n)=>{n.d(t,{I5:()=>s,LS:()=>i,V2:()=>r,lw:()=>a});const a={isCustomPeer:!0,type:"premium",titleKey:"PrivacyPremium",subtitleKey:"PrivacyPremiumText",avatarIcon:"star",isAvatarSquare:!0,withPremiumGradient:!0},r=[{isCustomPeer:!0,type:"contacts",titleKey:"FilterContacts",avatarIcon:"user",isAvatarSquare:!0,peerColorId:5},{isCustomPeer:!0,type:"nonContacts",titleKey:"FilterNonContacts",avatarIcon:"non-contacts",isAvatarSquare:!0,peerColorId:4},{isCustomPeer:!0,type:"groups",titleKey:"FilterGroups",avatarIcon:"group",isAvatarSquare:!0,peerColorId:3},{isCustomPeer:!0,type:"channels",titleKey:"FilterChannels",avatarIcon:"channel",isAvatarSquare:!0,peerColorId:1},{isCustomPeer:!0,type:"bots",titleKey:"FilterBots",avatarIcon:"bots",isAvatarSquare:!0,peerColorId:6}],i=[{isCustomPeer:!0,type:"excludeMuted",titleKey:"FilterMuted",avatarIcon:"mute",isAvatarSquare:!0,peerColorId:6},{isCustomPeer:!0,type:"excludeRead",titleKey:"FilterRead",avatarIcon:"readchats",isAvatarSquare:!0,peerColorId:4},{isCustomPeer:!0,type:"excludeArchived",titleKey:"FilterArchived",avatarIcon:"archive",isAvatarSquare:!0,peerColorId:5}],s={isCustomPeer:!0,type:"hidden",titleKey:"StarsTransactionHidden",avatarIcon:"author-hidden",peerColorId:4}},16460:(e,t,n)=>{function a(e,t){let n=0,a=0,r=e;for(;r&&r!==t&&!r.contains(t);)n+=r.offsetTop,a+=r.offsetLeft,r=r.offsetParent;return{top:n,left:a}}n.d(t,{A:()=>a})},31722:(e,t,n)=>{n.d(t,{A:()=>a});const a={container:"YmM5biTv",header:"S7WFT2bv",pickerCategoryTitle:"YK1300x2",peerChip:"gsKPBPoK",pickerList:"yLCbiItq",padded:"bXzIGw8s",noResults:"dXWKD0ve",onlineStatus:"d5GDOYh9"}},93879:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"O9uCTt5C","animated-icon":"HiI6SMxF",animatedIcon:"HiI6SMxF",effect:"NhFcTGja",animating:"ikfZ6Igz",withEffectOnly:"jjRJmHCg"}},69988:(e,t,n)=>{n.d(t,{A:()=>a});const a={root:"gXO57D98",chosen:"VXSJn0Sm",paid:"N3lcrsh8","animated-emoji":"lFjoRm_p",animatedEmoji:"lFjoRm_p",tag:"Dr889Kzc",tail:"cUfY1b26","is-safari":"rxxUijuG",isSafari:"rxxUijuG","tail-fill":"y591o4fN",tailFill:"y591o4fN","tag-text":"ly7cruxF",tagText:"ly7cruxF",counter:"P2FqNJAi",disabled:"NRtGofbf",paidCounter:"CW4UO1n3"}}}]);
//# sourceMappingURL=2898.bdf388c893fa35673326.js.map